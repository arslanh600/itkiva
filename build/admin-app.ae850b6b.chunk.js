(self.webpackChunkiktva_strapi_api=self.webpackChunkiktva_strapi_api||[]).push([[5538],{95423:(b,E,t)=>{var e={"./ar.json":[53803,7958],"./ca.json":[67634,3516],"./cs.json":[67278,7519],"./de.json":[52961,6901],"./dk.json":[72259,7898],"./en.json":[49898,320],"./es.json":[86702,8367],"./eu.json":[38153,8360],"./fr.json":[10542,8006],"./gu.json":[66003,2248],"./he.json":[51574,830],"./hi.json":[16007,6332],"./hu.json":[61919,5894],"./id.json":[1354,8897],"./it.json":[57442,6817],"./ja.json":[72185,1312],"./ko.json":[92975,1377],"./ml.json":[78270,9903],"./ms.json":[16427,3025],"./nl.json":[35566,2671],"./no.json":[39217,562],"./pl.json":[2506,7846],"./pt-BR.json":[61913,9647],"./pt.json":[57786,3340],"./ru.json":[76711,123],"./sa.json":[55119,9726],"./sk.json":[19043,606],"./sv.json":[42862,9303],"./th.json":[15364,749],"./tr.json":[49394,395],"./uk.json":[88068,7403],"./vi.json":[93473,3278],"./zh-Hans.json":[23407,2553],"./zh.json":[70326,1011]};function i(n){if(!t.o(e,n))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+n+"'");throw g.code="MODULE_NOT_FOUND",g});var f=e[n],c=f[0];return t.e(f[1]).then(()=>t.t(c,19))}i.keys=()=>Object.keys(e),i.id=95423,b.exports=i},42243:(b,E,t)=>{"use strict";t.d(E,{Z:()=>ot});var e=t(53209),i=t(95489),n=t(67294),f=t(97132),c=t(45697),g=t.n(c),m=t(28702),D=t(80831),A=t(36206),_=t(79690);const y=({onSubmit:G,schema:Ze})=>{const{formatMessage:F}=(0,f.useIntl)();return n.createElement(A.ZP,null,n.createElement(m.Main,null,n.createElement(A.bU,null,n.createElement(D.Formik,{enableReinitialize:!0,initialValues:{email:""},onSubmit:G,validationSchema:Ze,validateOnChange:!1},({values:Ge,errors:Ce,handleChange:Ke})=>n.createElement(i.Form,{noValidate:!0},n.createElement(A.sg,null,n.createElement(_.Z,null),n.createElement(m.Box,{paddingTop:6,paddingBottom:7},n.createElement(m.Typography,{as:"h1",variant:"alpha"},F({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),Ce.errorMessage&&n.createElement(m.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},F({id:Ce.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(m.Flex,{direction:"column",alignItems:"stretch",gap:6},n.createElement(m.TextInput,{error:Ce.email?F({id:Ce.email,defaultMessage:"This email is invalid."}):"",value:Ge.email,onChange:Ke,label:F({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:F({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),n.createElement(m.Button,{type:"submit",fullWidth:!0},F({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),n.createElement(m.Flex,{justifyContent:"center"},n.createElement(m.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},F({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};y.defaultProps={onSubmit:G=>G.preventDefault()},y.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const N=y,v=()=>{const{formatMessage:G}=(0,f.useIntl)();return n.createElement(A.ZP,null,n.createElement(m.Main,null,n.createElement(A.bU,null,n.createElement(A.sg,null,n.createElement(_.Z,null),n.createElement(m.Box,{paddingTop:6,paddingBottom:7},n.createElement(m.Typography,{as:"h1",variant:"alpha"},G({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),n.createElement(m.Typography,null,G({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),n.createElement(m.Box,{paddingTop:4},n.createElement(m.Typography,null,G({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),n.createElement(m.Flex,{justifyContent:"center"},n.createElement(m.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},G({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},j=()=>{const{formatMessage:G}=(0,f.useIntl)(),F=(0,i.useQuery)().get("info")||G({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return n.createElement(A.ZP,null,n.createElement(m.Main,null,n.createElement(A.bU,null,n.createElement(A.sg,null,n.createElement(_.Z,null),n.createElement(m.Box,{paddingTop:6,paddingBottom:7},n.createElement(m.Typography,{as:"h1",variant:"alpha"},G({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),n.createElement(m.Typography,null,F),n.createElement(m.Box,{paddingTop:4},n.createElement(m.Typography,null,G({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),n.createElement(m.Flex,{justifyContent:"center"},n.createElement(m.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},G({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))};var C=t(71893),z=t(27361),ne=t.n(z),fe=t(57557),P=t.n(fe),le=t(25741),he=t(19325),V=t(41363),a=t(68070);const M=(0,C.default)(m.Box)`
  text-align: center;
`,O=C.default.a`
  color: ${({theme:G})=>G.colors.primary600};
`,Z=(0,C.default)(m.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,ve=({authType:G,fieldsToDisable:Ze,noSignin:F,onSubmit:Ge,schema:Ce})=>{const Ke=(0,i.useNotification)(),{push:ue}=(0,le.useHistory)(),[He,Ue]=(0,n.useState)(!1),[te,Xe]=(0,n.useState)(!1),[ye,at]=(0,n.useState)(0),[qe,gt]=(0,n.useState)({}),{trackUsage:rt}=(0,i.useTracking)(),{formatMessage:$}=(0,f.useIntl)(),Be=(0,i.useQuery)().get("registrationToken");return(0,n.useEffect)(()=>{Be&&(async()=>{try{const{data:{data:re}}=await he.Z.get(`${strapi.backendURL}/admin/registration-info?registrationToken=${Be}`);re&&gt(re)}catch(re){const me=ne()(re,["response","data","message"],"An error occurred");Ke({type:"warning",message:me}),ue(`/auth/oops?info=${encodeURIComponent(me)}`)}})()},[Be]),n.createElement(A.ZP,null,n.createElement(A.bU,null,n.createElement(D.Formik,{enableReinitialize:!0,initialValues:{firstname:qe.firstname||"",lastname:qe.lastname||"",email:qe.email||"",password:"",confirmPassword:"",registrationToken:Be||void 0,news:!1},onSubmit:async(Oe,re)=>{try{await Ce.validate(Oe,{abortEarly:!1}),ye>0&&G==="register-admin"&&rt("didSubmitWithErrorsFirstAdmin",{count:ye.toString()}),Ge(Be?{userInfo:P()(Oe,["registrationToken"]),registrationToken:Be}:Oe,re)}catch(me){const xe=(0,i.getYupInnerErrors)(me);at(ye+1),re.setErrors(xe)}},validateOnChange:!1},({values:Oe,errors:re,handleChange:me})=>n.createElement(i.Form,{noValidate:!0},n.createElement(m.Main,null,n.createElement(A.sg,null,n.createElement(_.Z,null),n.createElement(m.Box,{paddingTop:6,paddingBottom:1},n.createElement(m.Typography,{as:"h1",variant:"alpha"},$({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"}))),n.createElement(M,{paddingBottom:7},n.createElement(m.Typography,{variant:"epsilon",textColor:"neutral600"},$({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."})))),n.createElement(m.Flex,{direction:"column",alignItems:"stretch",gap:6},n.createElement(m.Grid,{gap:4},n.createElement(m.GridItem,{col:6},n.createElement(m.TextInput,{name:"firstname",required:!0,value:Oe.firstname,error:re.firstname?$(re.firstname):void 0,onChange:me,label:$({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),n.createElement(m.GridItem,{col:6},n.createElement(m.TextInput,{name:"lastname",value:Oe.lastname,onChange:me,label:$({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),n.createElement(m.TextInput,{name:"email",disabled:Ze.includes("email"),value:Oe.email,onChange:me,error:re.email?$(re.email):void 0,required:!0,label:$({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),n.createElement(Z,{name:"password",onChange:me,value:Oe.password,error:re.password?$(re.password):void 0,endAction:n.createElement(a.Z,{onClick:xe=>{xe.preventDefault(),Ue(Je=>!Je)},label:$(He?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},He?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),hint:$({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:$({id:"global.password",defaultMessage:"Password"}),type:He?"text":"password"}),n.createElement(Z,{name:"confirmPassword",onChange:me,value:Oe.confirmPassword,error:re.confirmPassword?$(re.confirmPassword):void 0,endAction:n.createElement(a.Z,{onClick:xe=>{xe.preventDefault(),Xe(Je=>!Je)},label:$(te?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},te?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),required:!0,label:$({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:te?"text":"password"}),n.createElement(m.Checkbox,{onValueChange:xe=>{me({target:{value:xe,name:"news"}})},value:Oe.news,name:"news","aria-label":"news"},$({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:n.createElement(O,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},$({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:n.createElement(O,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},$({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),n.createElement(m.Button,{fullWidth:!0,size:"L",type:"submit"},$({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!F&&n.createElement(m.Box,{paddingTop:4},n.createElement(m.Flex,{justifyContent:"center"},n.createElement(i.Link,{label:"Auth.link.signin",to:"/auth/login"},$({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};ve.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:G=>G.preventDefault()},ve.propTypes={authType:g().string.isRequired,fieldsToDisable:g().array,noSignin:g().bool,onSubmit:g().func,schema:g().shape({validate:g().func.isRequired,type:g().string.isRequired}).isRequired};const Ee=ve,ae=(0,C.default)(m.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,Pe=({onSubmit:G,schema:Ze})=>{const[F,Ge]=(0,n.useState)(!1),[Ce,Ke]=(0,n.useState)(!1),{formatMessage:ue}=(0,f.useIntl)();return n.createElement(A.ZP,null,n.createElement(m.Main,null,n.createElement(A.bU,null,n.createElement(D.Formik,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:G,validationSchema:Ze,validateOnChange:!1},({values:He,errors:Ue,handleChange:te})=>n.createElement(i.Form,{noValidate:!0},n.createElement(A.sg,null,n.createElement(_.Z,null),n.createElement(m.Box,{paddingTop:6,paddingBottom:7},n.createElement(m.Typography,{as:"h1",variant:"alpha"},ue({id:"global.reset-password",defaultMessage:"Reset password"}))),Ue.errorMessage&&n.createElement(m.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ue({id:Ue.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(m.Flex,{direction:"column",alignItems:"stretch",gap:6},n.createElement(ae,{name:"password",onChange:te,value:He.password,error:Ue.password?ue({id:Ue.password,defaultMessage:"This field is required."}):void 0,endAction:n.createElement(a.Z,{onClick:Xe=>{Xe.preventDefault(),Ge(ye=>!ye)},label:ue(F?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},F?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),hint:ue({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:ue({id:"global.password",defaultMessage:"Password"}),type:F?"text":"password"}),n.createElement(ae,{name:"confirmPassword",onChange:te,value:He.confirmPassword,error:Ue.confirmPassword?ue({id:Ue.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:n.createElement(a.Z,{onClick:Xe=>{Xe.preventDefault(),Ke(ye=>!ye)},label:ue(F?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Ce?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),required:!0,label:ue({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:Ce?"text":"password"}),n.createElement(m.Button,{fullwidth:!0,type:"submit"},ue({id:"global.change-password",defaultMessage:"Change password"})))))),n.createElement(m.Flex,{justifyContent:"center"},n.createElement(m.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},ue({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};Pe.defaultProps={onSubmit:G=>G.preventDefault()},Pe.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const De=Pe;var nt=function(){return window&&window.strapi&&window.strapi.isEE?t(9442).Z:t(73347).Z}(),ke={"forgot-password":{Component:N,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:e.Ry().shape({email:e.Z_().email(i.translatedErrors.email).required(i.translatedErrors.required)}),inputsPrefix:""},"forgot-password-success":{Component:v,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:nt,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:e.Ry().shape({email:e.Z_().email(i.translatedErrors.email).required(i.translatedErrors.required),password:e.Z_().required(i.translatedErrors.required),rememberMe:e.Xg().nullable()}),inputsPrefix:""},oops:{Component:j,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:Ee,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:e.Ry().shape({firstname:e.Z_().trim().required(i.translatedErrors.required),lastname:e.Z_(),password:e.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required),registrationToken:e.Z_().required(i.translatedErrors.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:Ee,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:e.Ry().shape({firstname:e.Z_().trim().required(i.translatedErrors.required),lastname:e.Z_(),password:e.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),email:e.Z_().email(i.translatedErrors.email).strict().lowercase(i.translatedErrors.lowercase).required(i.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required)}),inputsPrefix:""},"reset-password":{Component:De,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:e.Ry().shape({password:e.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required)})}};const ot=ke},87751:(b,E,t)=>{"use strict";t.d(E,{Z:()=>g});var e=t(96486);const n={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null}],read:[{action:"admin::marketplace.read",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"transfer-tokens":{main:[{action:"admin::transfer.tokens.access",subject:null}],create:[{action:"admin::transfer.tokens.create",subject:null}],delete:[{action:"admin::transfer.tokens.delete",subject:null}],read:[{action:"admin::transfer.tokens.read",subject:null}],update:[{action:"admin::transfer.tokens.update",subject:null}],regenerate:[{action:"admin::transfer.tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};var f=function(){return window&&window.strapi&&window.strapi.isEE?t(2199).Z:t(69623).Z}(),c=(0,e.merge)(n,f);const g=c},31424:(b,E,t)=>{"use strict";t.r(E),t.d(E,{default:()=>Gs});var e=t(67294),i=t(25741),n=t(28702),f=t(82492),c=t.n(f),g=t(78718),m=t.n(g),D=t(23560),A=t.n(D),_=t(41143),y=t.n(_),N=t(15482),B=t(63871);const I=()=>{const l=[];return{register(s){l.push(s)},delete(s){l.splice(l.indexOf(s),1)},runWaterfall(s,o){return l.reduce((r,d)=>d(r,o),s)},async runWaterfallAsync(s,o){let r=s;for(const d of l)r=await d(r,o);return r},runSeries(...s){return l.map(o=>o(...s))},async runSeriesAsync(...s){const o=[];for(const r of l)o.push(await r(...s));return o},runParallel(...s){return Promise.all(l.map(o=>o(...s)))}}};var j=t(35281);const C=(l,s)=>{let o=j.compose;const r=[];l.forEach(T=>{r.push(T())});const d=(0,j.createStore)(z(s,{}),{},o((0,j.applyMiddleware)(...r)));return d.asyncReducers={},d.injectReducer=(T,R)=>{d.asyncReducers[T]=R,d.replaceReducer(z(s,d.asyncReducers))},d},z=(l,s)=>(0,j.combineReducers)({...l,...s}),ne=C;var fe=t(42775),P=t(95489),le=t(19325),he=t(97132),V=t(45697),a=t.n(V);const M=({component:l,path:s,...o})=>{const{pathname:r,search:d}=(0,i.useLocation)();return e.createElement(i.Route,{path:s,render:T=>P.auth.getToken()!==null?e.createElement(l,{...o,...T}):e.createElement(i.Redirect,{to:{pathname:"/auth/login",search:r!=="/"&&`?redirectTo=${encodeURIComponent(`${r}${d}`)}`}})})};M.propTypes={component:a().any.isRequired,path:a().string.isRequired};const O=(0,e.memo)(M);var Z=t(38683),ve=t(87462),Ee=t(4942),ae=t(15861),Pe=t(29439),De=t(44925),nt=t(64687),ke=t.n(nt),ot=t(68929),G=t.n(ot),Ze=t(27361),F=t.n(Ze),Ge=t(57557),Ce=t.n(Ge);const Ke="GUIDED_TOUR_CURRENT_STEP",ue="GUIDED_TOUR_COMPLETED_STEPS",He="GUIDED_TOUR_SKIPPED",Ue=JSON.parse,te=JSON.stringify,ye={clear(){localStorage.removeItem(Ke),localStorage.removeItem(ue)},addCompletedStep(l){const s=Ue(localStorage.getItem(ue))?.slice()||[];s.includes(l)||(s.push(l),localStorage.setItem(ue,te(s)))},addCurrentStep(l){localStorage.setItem(Ke,te(l))},setSkipped(l){localStorage.setItem(He,te(l))},get(l){return Ue(localStorage.getItem(l))}};var at=t(50592),qe=t(27858);const rt=l=>l;var $=t(18172),St=t(96486);const Be={formErrors:{},modifiedData:{},requestError:null},Oe=(l,s)=>(0,$.default)(l,o=>{switch(s.type){case"ON_CHANGE":{(0,St.set)(o.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return Be;case"SET_DATA":{o.modifiedData=s.data;break}case"SET_ERRORS":{o.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{o.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return o}});var re=["Component","endPoint","fieldsToDisable","fieldsToOmit","inputsPrefix","schema"];function me(l,s){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);s&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),o.push.apply(o,r)}return o}function xe(l){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?me(Object(o),!0).forEach(function(r){(0,Ee.Z)(l,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):me(Object(o)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(o,r))})}return l}var Je=function(){return window&&window.strapi&&window.strapi.isEE?t(98837).Z:t(42243).Z}(),it=function(s){var o=s.hasAdmin,r=s.setHasAdmin,d=(0,i.useHistory)(),T=d.push,R=d.location.search,S=(0,at.Z)(),ce=S.changeLocale,q=(0,P.useGuidedTour)(),H=q.setSkipped,U=(0,P.useTracking)(),X=U.trackUsage,Q=(0,i.useRouteMatch)("/auth/:authType"),w=Q.params.authType,x=(0,P.useQuery)(),oe=F()(Je,w,{}),je=oe.Component,dt=oe.endPoint,mt=oe.fieldsToDisable,tt=oe.fieldsToOmit,Ct=oe.inputsPrefix,Lt=oe.schema,Ks=(0,De.Z)(oe,re),Hs=(0,e.useReducer)(Oe,Be,rt),ps=(0,Pe.Z)(Hs,2),Nt=ps[0],$s=Nt.formErrors,zs=Nt.modifiedData,Vs=Nt.requestError,Mt=ps[1],Xs=le.Z.CancelToken,pt=Xs.source();(0,e.useEffect)(function(){return function(){pt.cancel("Component unmounted")}},[]),(0,e.useEffect)(function(){Mt({type:"RESET_PROPS"})},[w]);var Qs=function(ge){var Y=ge.target,Re=Y.name,ee=Y.value;Mt({type:"ON_CHANGE",keys:Re,value:ee})},Ys=function(){var Fe=(0,ae.Z)(ke().mark(function ge(Y,Re){var ee,Ae,Me,Se;return ke().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(ee=Re.setSubmitting,Ae=Re.setErrors,ee(!0),Me=Ce()(Y,tt),Se="/admin/".concat(dt),w!=="login"){de.next=7;break}return de.next=7,qs(Y,Se,{setSubmitting:ee,setErrors:Ae});case 7:if(!(w==="register"||w==="register-admin")){de.next=10;break}return de.next=10,en(Y,Se,{setSubmitting:ee,setErrors:Ae});case 10:if(w!=="forgot-password"){de.next=13;break}return de.next=13,Js(Me,Se,{setSubmitting:ee,setErrors:Ae});case 13:if(w!=="reset-password"){de.next=16;break}return de.next=16,tn(Me,Se,{setSubmitting:ee,setErrors:Ae});case 16:case"end":return de.stop()}},ge)}));return function(Y,Re){return Fe.apply(this,arguments)}}(),Js=function(){var Fe=(0,ae.Z)(ke().mark(function ge(Y,Re,ee){var Ae,Me;return ke().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return Ae=ee.setSubmitting,Me=ee.setErrors,J.prev=1,J.next=4,(0,le.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:Y,cancelToken:pt.token});case 4:T("/auth/forgot-password-success"),J.next=11;break;case 7:J.prev=7,J.t0=J.catch(1),console.error(J.t0),Me({errorMessage:"notification.error"});case 11:return J.prev=11,Ae(!1),J.finish(11);case 14:case"end":return J.stop()}},ge,null,[[1,7,11,14]])}));return function(Y,Re,ee){return Fe.apply(this,arguments)}}(),qs=function(){var Fe=(0,ae.Z)(ke().mark(function ge(Y,Re,ee){var Ae,Me,Se,J,de,We,Ne;return ke().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return Ae=ee.setSubmitting,Me=ee.setErrors,ie.prev=1,ie.next=4,(0,le.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:Ce()(Y,tt),cancelToken:pt.token});case 4:Se=ie.sent,J=Se.data.data,de=J.token,We=J.user,We.preferedLanguage&&ce(We.preferedLanguage),P.auth.setToken(de,Y.rememberMe),P.auth.setUserInfo(We,Y.rememberMe),gs(),ie.next=23;break;case 14:if(ie.prev=14,ie.t0=ie.catch(1),!ie.t0.response){ie.next=23;break}if(Ne=F()(ie.t0,["response","data","error","message"],"Something went wrong"),G()(Ne).toLowerCase()!=="usernotactive"){ie.next=22;break}return T("/auth/oops"),Mt({type:"RESET_PROPS"}),ie.abrupt("return");case 22:Me({errorMessage:Ne});case 23:return ie.prev=23,Ae(!1),ie.finish(23);case 26:case"end":return ie.stop()}},ge,null,[[1,14,23,26]])}));return function(Y,Re,ee){return Fe.apply(this,arguments)}}(),en=function(){var Fe=(0,ae.Z)(ke().mark(function ge(Y,Re,ee){var Ae,Me,Se,J,de,We,Ne,st,ie,Te;return ke().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ae=ee.setSubmitting,Me=ee.setErrors,Ie.prev=1,X("willCreateFirstAdmin"),Ie.next=5,(0,le.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:Ce()(Y,tt),cancelToken:pt.token});case 5:if(Se=Ie.sent,J=Se.data.data,de=J.token,We=J.user,P.auth.setToken(de,!1),P.auth.setUserInfo(We,!1),Ae(!1),r(!0),Ne=We.roles,Ne&&(st=Ne.find(function(sn){var nn=sn.code;return nn==="strapi-super-admin"}),st&&(ye.setSkipped(!1),H(!1),X("didLaunchGuidedtour"))),!(w==="register"&&Y.userInfo.news===!0||w==="register-admin"&&Y.news===!0)){Ie.next=18;break}return T({pathname:"/usecase",search:"?hasAdmin=".concat(o)}),Ie.abrupt("return");case 18:gs(),Ie.next=25;break;case 21:Ie.prev=21,Ie.t0=Ie.catch(1),X("didNotCreateFirstAdmin"),Ie.t0.response&&(ie=Ie.t0.response.data,Te=(0,qe.Z)(ie),Me({apiErrors:Te}));case 25:case"end":return Ie.stop()}},ge,null,[[1,21]])}));return function(Y,Re,ee){return Fe.apply(this,arguments)}}(),tn=function(){var Fe=(0,ae.Z)(ke().mark(function ge(Y,Re,ee){var Ae,Me,Se,J,de,We,Ne,st;return ke().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Ae=ee.setErrors,Me=ee.setSubmitting,Te.prev=1,Te.next=4,(0,le.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:xe(xe({},Y),{},{resetPasswordToken:x.get("code")}),cancelToken:pt.token});case 4:Se=Te.sent,J=Se.data.data,de=J.token,We=J.user,P.auth.setToken(de,!1),P.auth.setUserInfo(We,!1),T("/"),Te.next=16;break;case 13:Te.prev=13,Te.t0=Te.catch(1),Te.t0.response&&(Ne=F()(Te.t0,["response","data","message"],"Something went wrong"),st=F()(Te.t0,["response","data","statusCode"],400),Mt({type:"SET_REQUEST_ERROR",errorMessage:Ne,errorStatus:st}),Ae({errorMessage:Ne}));case 16:return Te.prev=16,Me(!1),Te.finish(16);case 19:case"end":return Te.stop()}},ge,null,[[1,13,16,19]])}));return function(Y,Re,ee){return Fe.apply(this,arguments)}}(),gs=function(){if(w==="login"){var ge=x.get("redirectTo"),Y=ge?decodeURIComponent(ge):"/";T(Y)}else T("/")};return!Je[w]||o&&w==="register-admin"||P.auth.getToken()?e.createElement(i.Redirect,{to:"/"}):!o&&w!=="register-admin"?e.createElement(i.Redirect,{to:{pathname:"/auth/register-admin",search:R}}):e.createElement(je,(0,ve.Z)({},Ks,{authType:w,fieldsToDisable:mt,formErrors:$s,inputsPrefix:Ct,modifiedData:zs,onChange:Qs,onSubmit:Ys,requestError:Vs,schema:Lt}))};it.defaultProps={hasAdmin:!1},it.propTypes={hasAdmin:a().bool,setHasAdmin:a().func.isRequired};const Dt=it;var Zt=t(23330),$e=t(71893),Ot=t(80129),bt=t(79690),It=t(36206);const kt=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],Gt=(0,$e.default)(n.Typography)`
  text-align: center;
`,ft=()=>{const l=(0,P.useNotification)(),{push:s,location:o}=(0,i.useHistory)(),{formatMessage:r}=(0,he.useIntl)(),[d,T]=(0,e.useState)(),[R,S]=(0,e.useState)(""),{firstname:ce,email:q}=P.auth.getUserInfo(),{hasAdmin:H}=(0,Ot.parse)(o?.search,{ignoreQueryPrefix:!0}),U=d==="other",X=Q=>{try{(0,le.Z)({method:"POST",url:"https://analytics.strapi.io/register",data:{email:q,username:ce,firstAdmin:Boolean(!H),persona:{role:Q?void 0:d,otherRole:Q?void 0:R}}}),l({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return e.createElement(It.ZP,null,e.createElement(n.Main,{labelledBy:"usecase-title"},e.createElement(It.bU,null,e.createElement("form",{onSubmit:()=>X(!1)},e.createElement(n.Flex,{direction:"column",paddingBottom:7},e.createElement(bt.Z,null),e.createElement(n.Box,{paddingTop:6,paddingBottom:1,width:(0,P.pxToRem)(250)},e.createElement(Gt,{variant:"alpha",as:"h1",id:"usecase-title"},r({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),e.createElement(n.Flex,{direction:"column",alignItems:"stretch",gap:6},e.createElement(n.Select,{id:"usecase","data-testid":"usecase",label:r({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:T,value:d},kt.map(({intlLabel:Q,value:w})=>e.createElement(n.Option,{key:w,value:w},r(Q)))),U&&e.createElement(n.TextInput,{name:"other",label:r({id:"Usecase.other",defaultMessage:"Other"}),value:R,onChange:Q=>S(Q.target.value),"data-testid":"other"}),e.createElement(n.Button,{type:"submit",size:"L",fullWidth:!0,disabled:!d},r({id:"global.finish",defaultMessage:"Finish"}))))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Box,{paddingTop:4},e.createElement(n.TextButton,{onClick:()=>X(!0)},r({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))};var ht=t(66716);const $t=async()=>`web-fingerprint-${(await(await ht.ZP.load()).get()).visitorId}`;var Et=t(93433);const Ut=[];var zt=function(){return window&&window.strapi&&window.strapi.isEE?t(35499).Z:t(77981).Z}();const wt=[].concat((0,Et.Z)(zt),(0,Et.Z)(Ut));var yt=t(48474);const Vt=(0,e.lazy)(()=>Promise.all([t.e(2241),t.e(801)]).then(t.bind(t,93858)));function Xt(){const l=(0,P.useNotification)(),{updateProjectSettings:s}=(0,yt.um)(),{formatMessage:o}=(0,he.useIntl)(),[{isLoading:r,hasAdmin:d,uuid:T,deviceId:R},S]=(0,e.useState)({isLoading:!0,hasAdmin:!1}),ce=(0,P.useAppInfos)(),{get:q}=(0,P.useFetchClient)(),H=(0,e.useMemo)(()=>(0,Z.WW)(wt.map(({to:x,Component:oe,exact:je})=>(0,Z.ot)(oe,x,je))),[]),[U,X]=(0,e.useState)(null);(0,e.useEffect)(()=>{const x=P.auth.getToken();x&&(async()=>{try{const{data:{token:je}}=await(0,P.request)("/admin/renew-token",{method:"POST",body:{token:x}});P.auth.updateToken(je)}catch{P.auth.clearAppStorage(),window.location.reload()}})()},[]),(0,e.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:oe,uuid:je,menuLogo:dt,authLogo:mt}}}=await le.Z.get(`${strapi.backendURL}/admin/init`);s({menuLogo:(0,P.prefixFileUrlWithBackendUrl)(dt),authLogo:(0,P.prefixFileUrlWithBackendUrl)(mt)});const tt=await $t();if(je){const{data:{data:Ct}}=await q("/admin/telemetry-properties",{validateStatus:Lt=>Lt<500});X(Ct);try{await fetch("https://analytics.strapi.io/api/v2/track",{method:"POST",body:JSON.stringify({event:"didInitializeAdministration",userId:"",deviceId:tt,eventPropeties:{},userProperties:{environment:ce.currentEnvironment},groupProperties:{...Ct,projectId:je}}),headers:{"Content-Type":"application/json"}})}catch{}}S({isLoading:!1,hasAdmin:oe,uuid:je,deviceId:tt})}catch{l({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[l,s]);const Q=x=>S(oe=>({...oe,hasAdmin:x})),w=(0,e.useMemo)(()=>({uuid:T,telemetryProperties:U,deviceId:R}),[T,U,R]);return r?e.createElement(P.LoadingIndicatorPage,null):e.createElement(e.Suspense,{fallback:e.createElement(P.LoadingIndicatorPage,null)},e.createElement(n.SkipToContent,null,o({id:"skipToContent"})),e.createElement(P.TrackingProvider,{value:w},e.createElement(i.Switch,null,H,e.createElement(i.Route,{path:"/auth/:authType",render:x=>e.createElement(Dt,{...x,setHasAdmin:Q,hasAdmin:d}),exact:!0}),e.createElement(O,{path:"/usecase",component:ft}),e.createElement(O,{path:"/",component:Vt}),e.createElement(i.Route,{path:"",component:Zt.default}))))}const Qt=Xt;var Tt=t(61473),jt=t(23724),Bt=t(37424),h=t(47713);const p={menuLogo:null,authLogo:null},L=(l=p,s)=>(0,$.default)(l,o=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(o,s.values);break}default:return o}}),k=({children:l,authLogo:s,menuLogo:o,showReleaseNotification:r,showTutorials:d})=>{const[{menuLogo:T,authLogo:R},S]=(0,e.useReducer)(L,p),ce=(0,e.useCallback)(({menuLogo:H,authLogo:U})=>S({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:H||o,authLogo:U||s}}),[s,o]),q=(0,e.useMemo)(()=>({logos:{menu:{custom:T,default:o},auth:{custom:R,default:s}},updateProjectSettings:ce,showReleaseNotification:r,showTutorials:d}),[T,o,R,s,ce,r,d]);return e.createElement(h._5.Provider,{value:q},l)};k.propTypes={authLogo:a().string.isRequired,children:a().element.isRequired,menuLogo:a().string.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired};const W=k;var K=t(66913),se=t.n(K),pe=t(93343);const we=({changeLocale:l,children:s,localeNames:o,messages:r})=>e.createElement(pe.Z.Provider,{value:{changeLocale:l,localeNames:o,messages:r}},s);we.propTypes={changeLocale:a().func.isRequired,children:a().element.isRequired,localeNames:a().object.isRequired,messages:a().object.isRequired};const be=we,_e="strapi-admin-language",lt=l=>{const s=window.localStorage.getItem(_e);return{locale:l[s]?s:"en",localeNames:l}},ut={localeNames:{en:"English"},locale:"en"},ct=(l=ut,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:o}=s;return l.localeNames[o]?{...l,locale:o}:l}default:return l}},ze=({children:l,localeNames:s,messages:o})=>{const[{locale:r},d]=(0,e.useReducer)(ct,ut,()=>lt(s));(0,e.useEffect)(()=>{window.localStorage.setItem(_e,r),document.documentElement.setAttribute("lang",r)},[r]);const T=S=>{d({type:"CHANGE_LOCALE",locale:S})},R=se()(o[r],o.en);return e.createElement(he.IntlProvider,{locale:r,defaultLocale:"en",messages:R,textComponent:"span"},e.createElement(be,{changeLocale:T,localeNames:s,messages:R},l))};ze.propTypes={children:a().element.isRequired,localeNames:a().objectOf(a().string).isRequired,messages:a().object.isRequired};const Le=ze,Ve=(l,s)=>{const o=Object.entries(s),r=o.findIndex(([T])=>T===l);return o.slice(0,r).every(([,T])=>Object.values(T).every(Boolean))},hs=(l,s)=>{const o=l.split("."),r=o[1],d=Object.entries(s[o[0]]),T=d.findIndex(([S])=>S===r);return d.slice(0,T).every(([,S])=>S)},Yt={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0},Es=(l=Yt,s)=>(0,$.default)(l,o=>{switch(s.type){case"SET_CURRENT_STEP":{o.currentStep=s.step;break}case"SET_STEP_STATE":{const[r,d]=s.currentStep.split(".");o.guidedTourState[r][d]=s.value;break}case"SET_SKIPPED":{o.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{o.isGuidedTourVisible=s.value;break}default:return o}});var ys=t(36968),_t=t.n(ys);const Ts=l=>{const s={...l},o=ye.get(ue),r=ye.get(Ke),d=ye.get(He);if(o&&o.forEach(T=>{const[R,S]=T.split(".");_t()(s,["guidedTourState",R,S],!0)}),r){const[T,R]=r.split(".");_t()(s,["guidedTourState",T,R],!0),ye.addCompletedStep(r),ye.addCurrentStep(null)}return d!==null&&_t()(s,"isSkipped",d),s},Jt=({children:l})=>{const[{currentStep:s,guidedTourState:o,isGuidedTourVisible:r,isSkipped:d},T]=(0,e.useReducer)(Es,Yt,Ts),R=U=>{if(U!==null){const X=F()(o,U),Q=hs(U,o);if(X||d||!Q)return null}return ye.addCurrentStep(U),T({type:"SET_CURRENT_STEP",step:U})},S=U=>{T({type:"SET_GUIDED_TOUR_VISIBILITY",value:U})},ce=(U,X)=>{ye.addCompletedStep(U),T({type:"SET_STEP_STATE",currentStep:U,value:X})},q=U=>{const X=o[U];if(X){const Q=Ve(U,o),w=Object.keys(X)[0],x=X[w];if(Q&&!s&&!x)return R(`${U}.${w}`)}return null},H=U=>{ye.setSkipped(U),T({type:"SET_SKIPPED",value:U})};return e.createElement(P.GuidedTourProvider,{guidedTourState:o,currentStep:s,setCurrentStep:R,setGuidedTourVisibility:S,setSkipped:H,setStepState:ce,startSection:q,isGuidedTourVisible:r,isSkipped:d},l)};Jt.propTypes={children:a().element.isRequired};const vs=Jt;var qt=t(73935),es=t(41363),ts=t(36182);const Ps=(0,$e.default)(n.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:l})=>l.colors.neutral0};
    opacity: 0.9;
  }
`,Rs=(0,$e.default)(n.Flex)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,P.pxToRem)(160)};
`,ss=(0,$e.default)(n.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:l})=>l.colors.primary600} !important;
    }
  }
`,Pt=document.createElement("div"),As="autoReloadOverlayBlocker";Pt.setAttribute("id",As);const Cs=$e.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,Ls=(0,$e.default)(es.Refresh)`
  animation: ${Cs} 1s infinite linear;
`,ns=({displayedIcon:l,description:s,title:o,isOpen:r})=>{const{formatMessage:d}=(0,he.useIntl)();return(0,e.useEffect)(()=>(document.body.appendChild(Pt),()=>{document.body.removeChild(Pt)}),[]),r?qt.createPortal(e.createElement(Ps,null,e.createElement(Rs,{direction:"column",alignItems:"stretch",gap:6},e.createElement(n.Flex,{direction:"column",alignItems:"stretch",gap:2},e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Typography,{as:"h1",variant:"alpha"},d(o))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},d(s)))),e.createElement(n.Flex,{justifyContent:"center"},l==="reload"&&e.createElement(ss,{padding:6,background:"primary100",borderColor:"primary200"},e.createElement(Ls,{width:(0,P.pxToRem)(36),height:(0,P.pxToRem)(36)})),l==="time"&&e.createElement(ss,{padding:6,background:"primary100",borderColor:"primary200"},e.createElement(es.Clock,{width:(0,P.pxToRem)(40),height:(0,P.pxToRem)(40)}))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Box,{paddingTop:2},e.createElement(ts.r,{href:"https://docs.strapi.io",isExternal:!0},d({id:"global.documentation",defaultMessage:"Read the documentation"})))))),Pt):null};ns.propTypes={displayedIcon:a().oneOfType([a().string,a().array]).isRequired,description:a().object.isRequired,isOpen:a().bool.isRequired,title:a().object.isRequired};const Ms=ns,os=30,as=({children:l})=>{const[s,o]=(0,e.useState)(!1),[{elapsed:r},d]=(0,e.useState)({elapsed:0,start:0}),[T,R]=(0,e.useState)(void 0),S=(x=void 0)=>{o(!0),R(x),d(oe=>({...oe,start:Date.now()}))},ce=()=>{o(!1),d({start:0,elapsed:0}),R(void 0)},q=(0,e.useRef)(S),H=(0,e.useRef)(ce);(0,e.useEffect)(()=>{let x=null;return s?x=setInterval(()=>r>os?(clearInterval(x),null):(d(oe=>({...oe,elapsed:Math.round(Date.now()-oe.start)/1e3})),null),1e3):clearInterval(x),()=>{clearInterval(x)}},[s,r]);let U=T?.icon||"reload",X={id:T?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},Q={id:T?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};r>os&&(U="time",X={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},Q={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const w=(0,e.useMemo)(()=>({lockApp:q.current,unlockApp:H.current}),[q,H]);return e.createElement(P.AutoReloadOverlayBockerContext.Provider,{value:w},e.createElement(Ms,{displayedIcon:U,isOpen:s,description:X,title:Q}),l)};as.propTypes={children:a().element.isRequired};const Ss=as,Ft=({dispatch:l,notification:s})=>{const{formatMessage:o}=(0,he.useIntl)(),{message:r,link:d,type:T,id:R,onClose:S,timeout:ce,blockTransition:q,title:H}=s,U=x=>typeof x=="string"?x:o(x,x.values),X=(0,e.useCallback)(()=>{S&&S(),l({type:"HIDE_NOTIFICATION",id:R})},[R]);(0,e.useEffect)(()=>{let x;return q||(x=setTimeout(()=>{X()},ce||2500)),()=>clearTimeout(x)},[q,X,ce]);let Q,w;return T==="info"?(Q="default",w=o({id:"notification.default.title",defaultMessage:"Information:"})):T==="warning"?(Q="danger",w=o({id:"notification.warning.title",defaultMessage:"Warning:"})):T==="softWarning"?(Q="warning",w=o({id:"notification.warning.title",defaultMessage:"Warning:"})):(Q="success",w=o({id:"notification.success.title",defaultMessage:"Success:"})),H&&(w=typeof H=="string"?H:U({id:H?.id||H,defaultMessage:H?.defaultMessage||H?.id||H,values:H?.values})),e.createElement(n.Alert,{action:d?e.createElement(ts.r,{href:d.url,isExternal:!0},o({id:d.label?.id||d.label,defaultMessage:d.label?.defaultMessage||d.label?.id||d.label})):void 0,onClose:X,closeLabel:"Close",title:w,variant:Q},U({id:r?.id||r,defaultMessage:r?.defaultMessage||r?.id||r,values:r?.values}))};Ft.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},Ft.propTypes={dispatch:a().func.isRequired,notification:a().shape({id:a().number,message:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]),link:a().shape({target:a().string,url:a().string.isRequired,label:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]).isRequired}),type:a().string,onClose:a().func,timeout:a().number,blockTransition:a().bool,title:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})])})};const Ds=Ft,rs={notifId:0,notifications:[]},Os=(l=rs,s)=>(0,$.default)(l,o=>{switch(s.type){case"SHOW_NOTIFICATION":{o.notifications.push({id:l.notifId,type:F()(s,["config","type"],"success"),message:F()(s,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:F()(s,["config","link"],null),timeout:F()(s,["config","timeout"],2500),blockTransition:F()(s,["config","blockTransition"],!1),onClose:F()(s,["config","onClose"],null),title:F()(s,["config","title"],null)}),o.notifId=l.notifId+1;break}case"HIDE_NOTIFICATION":{const r=l.notifications.findIndex(d=>d.id===s.id);r!==-1&&o.notifications.splice(r,1);break}default:return o}}),is=({children:l})=>{const[{notifications:s},o]=(0,e.useReducer)(Os,rs),r=d=>{o({type:"SHOW_NOTIFICATION",config:d})};return e.createElement(P.NotificationsProvider,{toggleNotification:r},e.createElement(n.Flex,{left:"50%",marginLeft:"-250px",position:"fixed",direction:"column",alignItems:"stretch",gap:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},s.map(d=>e.createElement(Ds,{key:d.id,dispatch:o,notification:d}))),l)};is.propTypes={children:a().element.isRequired};const bs=is,Rt=document.createElement("div");Rt.setAttribute("id","overlayBlocker");const Is=$e.default.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,ls=({isOpen:l})=>((0,e.useEffect)(()=>(document.body.appendChild(Rt),()=>{document.body.removeChild(Rt)}),[]),l?qt.createPortal(e.createElement(Is,null),Rt):null);ls.propTypes={isOpen:a().bool.isRequired};const us=({children:l})=>{const[s,o]=(0,e.useState)(!1),r=()=>{o(!0)},d=()=>{o(!1)};return e.createElement(P.OverlayBlockerContext.Provider,{value:{lockApp:r,unlockApp:d}},l,e.createElement(ls,{isOpen:s}))};us.propTypes={children:a().node.isRequired};const ks=us,Wt="STRAPI_THEME",Us=()=>{const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(Wt);return s||localStorage.setItem(Wt,l),s||l},cs=({children:l,themes:s})=>{const[o,r]=(0,e.useState)(Us()),d=(0,e.useCallback)(R=>{r(R),localStorage.setItem(Wt,R)},[r]),T=(0,e.useMemo)(()=>({currentTheme:o,onChangeTheme:d,themes:s}),[o,d,s]);return e.createElement(h.Rj.Provider,{value:T},l)};cs.propTypes={children:a().node.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const ws=cs,js=$e.createGlobalStyle`
  body {
    background: ${({theme:l})=>l.colors.neutral100};
  }
`,ds=({children:l})=>{const{currentTheme:s,themes:o}=(0,yt.M1)();return e.createElement(n.ThemeProvider,{theme:o[s]||o.light},l,e.createElement(js,null))};ds.propTypes={children:a().element.isRequired};const Bs=ds,xs=new jt.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),ms=({authLogo:l,children:s,components:o,customFields:r,fields:d,getAdminInjectedComponents:T,getPlugin:R,localeNames:S,menu:ce,menuLogo:q,messages:H,plugins:U,runHookParallel:X,runHookSeries:Q,runHookWaterfall:w,settings:x,showReleaseNotification:oe,showTutorials:je,store:dt,themes:mt})=>e.createElement(ws,{themes:mt},e.createElement(Bs,null,e.createElement(jt.QueryClientProvider,{client:xs},e.createElement(Bt.Provider,{store:dt},e.createElement(h.ux.Provider,{value:{getAdminInjectedComponents:T}},e.createElement(W,{authLogo:l,menuLogo:q,showReleaseNotification:oe,showTutorials:je},e.createElement(P.StrapiAppProvider,{getPlugin:R,menu:ce,plugins:U,runHookParallel:X,runHookWaterfall:w,runHookSeries:Q,settings:x},e.createElement(P.LibraryProvider,{components:o,fields:d},e.createElement(P.CustomFieldsProvider,{customFields:r},e.createElement(Le,{messages:H,localeNames:S},e.createElement(Ss,null,e.createElement(ks,null,e.createElement(vs,null,e.createElement(bs,null,s))))))))))))));ms.propTypes={authLogo:a().oneOfType([a().string,a().any]).isRequired,children:a().element.isRequired,components:a().object.isRequired,customFields:a().object.isRequired,fields:a().object.isRequired,getAdminInjectedComponents:a().func.isRequired,getPlugin:a().func.isRequired,localeNames:a().objectOf(a().string).isRequired,menu:a().arrayOf(a().shape({to:a().string.isRequired,icon:a().func.isRequired,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,permissions:a().array,Component:a().func})).isRequired,menuLogo:a().oneOfType([a().string,a().any]).isRequired,messages:a().object.isRequired,plugins:a().object.isRequired,runHookParallel:a().func.isRequired,runHookWaterfall:a().func.isRequired,runHookSeries:a().func.isRequired,settings:a().object.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired,store:a().object.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const _s=ms,Fs={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};var At=t(80660);const Ws={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},Ns="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=";class Zs{constructor({adminConfig:s,appPlugins:o,library:r,middlewares:d,reducers:T}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:Tt,head:{favicon:Ns},locales:["en"],menuLogo:Tt,notifications:{releases:!0},themes:{light:n.lightTheme,dark:n.darkTheme},translations:{},tutorials:!0},this.appPlugins=o||{},this.library=r,this.middlewares=d,this.plugins={},this.reducers=T,this.translations={},this.hooksDict={},this.admin={injectionZones:Ws},this.customFields=fe.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(o=>this.library.components.add(o)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const o=JSON.stringify(s);y()(s.to,`link.to should be defined for ${o}`),y()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),y()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),y()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${o}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(o=>this.library.fields.add(o)):this.library.fields.add(s)};addMenuLink=s=>{const o=JSON.stringify(s);y()(s.to,`link.to should be defined for ${o}`),y()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),y()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${o}`),y()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),y()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(o=>{this.middlewares.add(o)})};addReducers=s=>{Object.keys(s).forEach(o=>{this.reducers.add(o,s[o])})};addSettingsLink=(s,o)=>{y()(this.settings[s],"The section does not exist");const r=JSON.stringify(o);y()(o.id,`link.id should be defined for ${r}`),y()(o.intlLabel?.id&&o.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${r}`),y()(o.to,`link.to should be defined for ${r}`),y()(o.Component&&typeof o.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(o)};addSettingsLinks=(s,o)=>{y()(this.settings[s],"The section does not exist"),y()(Array.isArray(o),"TypeError expected links to be an array"),o.forEach(r=>{this.addSettingsLink(s,r)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const o=this.appPlugins[s].bootstrap;o&&o({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),A()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(At.No),this.createHook(At.LK),this.createHook(At.dV),this.createHook(At.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,o=this.customConfigurations.theme.light;!s&&!o&&(console.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),c()(this.configurations.themes.light,this.customConfigurations.theme)),o&&c()(this.configurations.themes.light,o),s&&c()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=I()};createSettingSection=(s,o)=>{y()(s.id,"section.id should be defined"),y()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),y()(Array.isArray(o),"TypeError expected links to be an array"),y()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},o.forEach(r=>{this.addSettingsLink(s.id,r)})};createStore=()=>ne(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,o,r)=>{try{return this.admin.injectionZones[s][o][r]||[]}catch(d){return console.error("Cannot get injected component",d),d}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,o,r)=>{y()(this.admin.injectionZones.contentManager[s]?.[o],`The ${s} ${o} zone is not defined in the content manager`),y()(r,"A Component must be provided"),this.admin.injectionZones.contentManager[s][o].push(r)};injectAdminComponent=(s,o,r)=>{y()(this.admin.injectionZones.admin[s]?.[o],`The ${s} ${o} zone is not defined in the admin`),y()(r,"A Component must be provided"),this.admin.injectionZones.admin[s][o].push(r)};async loadAdminTrads(){const s=this.configurations.locales.map(d=>t(95423)(`./${d}.json`).then(({default:T})=>({data:T,locale:d})).catch(()=>({data:null,locale:d})));return(await Promise.all(s)).reduce((d,T)=>(T.data&&(d[T.locale]=T.data),d),{})}async loadTrads(){const s=await this.loadAdminTrads(),o=Object.keys(this.appPlugins).map(R=>{const S=this.appPlugins[R].registerTrads;return S?S({locales:this.configurations.locales}):null}).filter(R=>R),d=(await Promise.all(o)).reduce((R,S)=>{const ce=S.reduce((q,H)=>(q[H.locale]=H.data,q),{});return Object.keys(ce).forEach(q=>{R[q]={...R[q],...ce[q]}}),R},{}),T=this.configurations.locales.reduce((R,S)=>(R[S]={...s[S],...d[S]||{},...this.customConfigurations?.translations?.[S]},R),{});return this.configurations.translations=T,Promise.resolve()}registerHook=(s,o)=>{y()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(o)};registerPlugin=s=>{const o=(0,fe.Sy)(s);this.plugins[o.pluginId]=o};runHookSeries=(s,o=!1)=>o?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,o,r=!1,d)=>r?this.hooksDict[s].runWaterfallAsync(o,d):this.hooksDict[s].runWaterfall(o,d);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),o=m()(Fs,this.configurations.locales||[]),{components:{components:r},fields:{fields:d}}=this.library;return e.createElement(_s,{authLogo:this.configurations.authLogo,components:r,fields:d,customFields:this.customFields,localeNames:o,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(T,R,S=!1)=>this.runHookWaterfall(T,R,S,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},e.createElement(e.Fragment,null,e.createElement(N.Helmet,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(_e)||"en"}}),e.createElement(i.BrowserRouter,{basename:B.Z},e.createElement(Qt,{store:s}))))}}const Gs=({adminConfig:l={},appPlugins:s,library:o,middlewares:r,reducers:d})=>new Zs({adminConfig:l,appPlugins:s,library:o,middlewares:r,reducers:d})},93343:(b,E,t)=>{"use strict";t.d(E,{Z:()=>n});var e=t(67294);const n=(0,e.createContext)()},50592:(b,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(67294),i=t(93343);const f=()=>{const{changeLocale:c,localeNames:g,messages:m}=(0,e.useContext)(i.Z);return{changeLocale:c,localeNames:g,messages:m}}},79690:(b,E,t)=>{"use strict";t.d(E,{Z:()=>g});var e=t(67294),i=t(71893),n=t(48474);const f=i.default.img`
  height: ${72/16}rem;
`,g=()=>{const{logos:{auth:m}}=(0,n.um)();return e.createElement(f,{src:m?.custom??m.default,"aria-hidden":!0,alt:""})}},47713:(b,E,t)=>{"use strict";t.d(E,{ux:()=>n,_5:()=>c,$l:()=>m,Rj:()=>A});var e=t(67294);const n=(0,e.createContext)({}),c=(0,e.createContext)({}),m=(0,e.createContext)({}),A=(0,e.createContext)({})},63871:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i="/admin/".replace(window.location.origin,"")},80660:(b,E,t)=>{"use strict";t.d(E,{Eo:()=>n,LK:()=>i,No:()=>e,dV:()=>f});const e="Admin/CM/pages/ListView/inject-column-in-table",i="Admin/CM/pages/App/mutate-collection-types-links",n="Admin/CM/pages/EditView/mutate-edit-view-layout",f="Admin/CM/pages/App/mutate-single-types-links"},48474:(b,E,t)=>{"use strict";t.d(E,{um:()=>f,U_:()=>j,Dq:()=>P,H9:()=>ot,bP:()=>y,$_:()=>wt,rW:()=>Bt,bF:()=>Ue,G4:()=>Ut,Te:()=>Kt,M1:()=>Tt});var e=t(67294),i=t(47713);const f=()=>(0,e.useContext)(i._5);var c=t(95489),g=t(18172);const m={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]},A=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_MODELS":{u.collectionTypes=m.collectionTypes,u.singleTypes=m.singleTypes,u.components=m.components,u.isLoading=!0;break}case"GET_MODELS_ERROR":{u.collectionTypes=m.collectionTypes,u.singleTypes=m.singleTypes,u.components=m.components,u.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const L=k=>p.contentTypes.filter(W=>W.isDisplayed&&W.kind===k);u.isLoading=!1,u.collectionTypes=L("collectionType"),u.singleTypes=L("singleType"),u.components=p.components;break}default:return u}}),y=()=>{const h=(0,c.useNotification)(),[p,u]=(0,e.useReducer)(A,m);(0,e.useEffect)(()=>{L()},[]);const L=async()=>{u({type:"GET_MODELS"});try{const[{data:k},{data:W}]=await Promise.all(["components","content-types"].map(K=>(0,c.request)(`/content-manager/${K}`,{method:"GET"})));u({type:"GET_MODELS_SUCCEDED",contentTypes:W,components:k})}catch{u({type:"GET_MODELS_ERROR"}),h({type:"warning",message:{id:"notification.error"}})}};return{...p,getData:L}},N={data:{},error:null,isLoading:!0},v=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA":{u.isLoading=!0,u.data={},u.error=null;break}case"GET_DATA_SUCCEEDED":{u.data=p.data,u.isLoading=!1,u.error=null;break}case"GET_DATA_ERROR":{u.isLoading=!1,u.error=p.error;break}default:return u}}),j=h=>{const[{data:p,error:u,isLoading:L},k]=(0,e.useReducer)(v,N);return(0,e.useEffect)(()=>{(async()=>{k({type:"GET_DATA"});const{data:K}=await(0,c.request)("/admin/permissions",{method:"GET",params:{role:h}});k({type:"GET_DATA_SUCCEEDED",data:K})})()},[h]),{data:p,error:u,isLoading:L}},C={role:{},permissions:{},isLoading:!0},ne=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA_SUCCEEDED":{u.role=p.role,u.permissions=p.permissions,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{u.role.name=p.name,u.role.description=p.description;break}default:return u}}),P=h=>{const p=(0,c.useNotification)(),[u,L]=(0,e.useReducer)(ne,C);(0,e.useEffect)(()=>{h?k(h):L({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[h]);const k=async K=>{try{const[{data:se},{data:pe}]=await Promise.all([`roles/${K}`,`roles/${K}/permissions`].map(we=>(0,c.request)(`/admin/${we}`,{method:"GET"})));L({type:"GET_DATA_SUCCEEDED",role:se,permissions:pe})}catch(se){console.error(se),L({type:"GET_DATA_ERROR"}),p({type:"warning",message:{id:"notification.error"}})}},W=(0,e.useCallback)(K=>{L({type:"ON_SUBMIT_SUCCEEDED",...K})},[]);return{...u,onSubmitSucceeded:W}},he=(h,p)=>p.map(({permissions:u})=>(0,c.hasPermissions)(h,u)),a=async(h,p)=>{const u=he(h,p),L=await Promise.all(u);return p.filter((W,K)=>L[K])};var M=t(50361),O=t.n(M);const ve=async(h,p,u)=>{const L=he(h,p),k=await Promise.all(L),W=p.filter((pe,we)=>k[we]),K=W.findIndex(pe=>pe.to==="/settings");if(K===-1)return[];const se=O()(W);return se[K].notificationsCount=u?1:0,se};var Ee=t(41363),ae=t(87751);const Pe={generalSectionLinks:[{icon:Ee.Puzzle,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:ae.Z.marketplace.main},{icon:Ee.ShoppingCart,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:ae.Z.marketplace.main},{icon:Ee.Cog,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0},nt=(h=Pe,p)=>(0,g.default)(h,u=>{switch(p.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:L,authorizedPluginSectionLinks:k}=p.data;u.generalSectionLinks=L,u.pluginsSectionLinks=k;break}case"UNSET_IS_LOADING":{u.isLoading=!1;break}default:return u}}),ot=()=>{const[h,p]=(0,e.useReducer)(nt,Pe),{allPermissions:u}=(0,c.useRBACProvider)(),{shouldUpdateStrapi:L}=(0,c.useAppInfos)(),{menu:k}=(0,c.useStrapiApp)(),W=(0,e.useRef)(h.generalSectionLinks),K=(0,e.useRef)(L),se=async(we=u)=>{const Qe=await a(we,k),_e=await ve(we,W.current,K.current);p({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:_e,authorizedPluginSectionLinks:Qe}}),p({type:"UNSET_IS_LOADING"})},pe=(0,e.useRef)(se);return(0,e.useEffect)(()=>{pe.current(u)},[u,p]),h};var G=t(27361),Ze=t.n(G);const Ge=(h,p)=>({...h,isLoading:p}),Ce={roles:[],isLoading:!0},ue=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA":{u.isLoading=!0,u.roles=[];break}case"GET_DATA_SUCCEEDED":{u.roles=p.data,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}default:return u}}),Ue=(h=!0)=>{const p=(0,c.useNotification)(),[{roles:u,isLoading:L},k]=(0,e.useReducer)(ue,Ce,()=>Ge(Ce,h));(0,e.useEffect)(()=>{h&&W()},[h]);const W=(0,e.useCallback)(async()=>{const K=(0,c.getFetchClient)();try{k({type:"GET_DATA"});const{data:{data:se}}=await K.get("/admin/roles");k({type:"GET_DATA_SUCCEEDED",data:se})}catch(se){const pe=Ze()(se,["response","payload","message"],"An error occured");k({type:"GET_DATA_ERROR"}),pe!=="Forbidden"&&p({type:"warning",message:pe})}},[p]);return{roles:u,isLoading:L,getData:W}};var te=t(96486);const Xe={menu:[],isLoading:!0},at=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"CHECK_PERMISSIONS_SUCCEEDED":{p.data.forEach(L=>{L.hasPermission&&(0,te.set)(u,["menu",...L.path.split("."),"isDisplayed"],L.hasPermission)}),u.menu.forEach((L,k)=>{u.menu[k].links=L.links.filter(W=>W.isDisplayed===!0)}),u.isLoading=!1;break}default:return u}});var qe=t(57557),gt=t.n(qe),rt=t(89734),$=t.n(rt);const Be=h=>$()(h,p=>p.id),re=h=>h.map(p=>{const u=p.links.map(L=>({...L,isDisplayed:!1}));return{...p,links:u}});var me=t(93433);const Je=[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:ae.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:ae.Z.settings.users.main}];var it=function(){return window&&window.strapi&&window.strapi.isEE?t(95662).Z:t(40928).Z}();const Dt=[].concat((0,me.Z)(it),(0,me.Z)(Je)),$e=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:ae.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:ae.Z.settings["api-tokens"].main},{intlLabel:{id:"Settings.transferTokens.title",defaultMessage:"Transfer Tokens"},to:"/settings/transfer-tokens?sort=name:ASC",id:"transfer-tokens",isDisplayed:!1,permissions:ae.Z.settings["transfer-tokens"].main}];var Ot=function(){return window&&window.strapi&&window.strapi.isEE?t(8353).Z:t(88506).Z}();const bt=[].concat((0,me.Z)($e),(0,me.Z)(Ot)),kt=(h,{settings:p,shouldUpdateStrapi:u})=>{const L=p.global.links,k=Be([...L,...bt]).map(se=>({...se,hasNotification:se.id==="000-application-infos"&&u})),W=Object.values(gt()(p,"global")),K=[{...p.global,links:k},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:Dt},...W];return{...h,menu:re(K)}},Kt=(h=!1)=>{const{allPermissions:p}=(0,c.useRBACProvider)(),{shouldUpdateStrapi:u}=(0,c.useAppInfos)(),{settings:L}=(0,c.useStrapiApp)(),[{isLoading:k,menu:W},K]=(0,e.useReducer)(at,Xe,()=>kt(Xe,{settings:L,shouldUpdateStrapi:u}));return(0,e.useEffect)(()=>{h||(async()=>{const pe=async(_e,et)=>({hasPermission:await(0,c.hasPermissions)(p,_e),path:et}),be=(_e=>_e.reduce((et,lt,ut)=>{const xt=ct=>ct.map((ze,Le)=>pe(ct[Le].permissions,`${ut}.links.${Le}`));return[...et,...xt(lt.links)]},[]))(W),Qe=await Promise.all(be);K({type:"CHECK_PERMISSIONS_SUCCEEDED",data:Qe})})()},[p,h]),{isLoading:k,menu:W}};var ft=t(38683);const ht={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},Ht=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA_SUCCEEDED":{u.isLoading=!1,u.showHeaderLoader=!1,u.initialData=(0,te.pick)(p.data,h.fieldsToPick),u.modifiedData=(0,te.pick)(p.data,h.fieldsToPick);break}case"ON_CANCEL":{u.modifiedData=h.initialData,u.formErrors={};break}case"ON_CHANGE":{p.inputType==="password"&&!p.value?(0,te.unset)(u.modifiedData,p.keys.split(".")):p.keys.includes("username")&&!p.value?(0,te.set)(u.modifiedData,p.keys.split("."),null):(0,te.set)(u.modifiedData,p.keys.split("."),p.value);break}case"ON_SUBMIT":{u.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{u.initialData=(0,te.pick)(p.data,h.fieldsToPick),u.modifiedData=(0,te.pick)(p.data,h.fieldsToPick),u.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{u.formErrors=p.errors,u.showHeaderButtonLoader=!1;break}default:return u}}),Et=(h,p)=>({...h,fieldsToPick:p}),Ut=(h,p,u,L)=>{const[{formErrors:k,initialData:W,isLoading:K,modifiedData:se,showHeaderButtonLoader:pe,showHeaderLoader:we},be]=(0,e.useReducer)(Ht,ht,()=>Et(ht,L)),Qe=(0,c.useNotification)(),{lockApp:_e,unlockApp:et}=(0,c.useOverlayBlocker)();return(0,e.useEffect)(()=>{h&&(async()=>{try{const{data:Le}=await(0,c.request)(h,{method:"GET"});be({type:"GET_DATA_SUCCEEDED",data:Le,fieldsToPick:L})}catch(Le){console.error(Le.response),Qe({type:"warning",message:{id:"notification.error"}})}})()},[h]),[{formErrors:k,initialData:W,isLoading:K,modifiedData:se,showHeaderButtonLoader:pe,showHeaderLoader:we},be,{handleCancel:()=>{be({type:"ON_CANCEL"})},handleChange:({target:{name:ze,value:Le,type:Ye}})=>{be({type:"ON_CHANGE",inputType:Ye,keys:ze,value:Le})},handleSubmit:async ze=>{ze.preventDefault();const Le=await(0,ft.R6)(se,p);if(be({type:"SET_ERRORS",errors:Le||{}}),!Le)try{_e(),be({type:"ON_SUBMIT"});const Ye=(0,te.omit)(se,["confirmPassword","registrationToken"]);Ye.roles&&(Ye.roles=Ye.roles.map(vt=>vt.id));const{data:Ve}=await(0,c.request)(h,{method:"PUT",body:Ye});u(Ve),be({type:"ON_SUBMIT_SUCCEEDED",data:Ve}),Qe({type:"success",message:{id:"notification.success.saved"}})}catch(Ye){const Ve=(0,te.get)(Ye,"response.payload",{data:{}});(0,te.has)(Ve,"data")&&typeof Ve.data=="string"?Qe({type:"warning",message:Ve.data}):Qe({type:"warning",message:Ve.message});const vt=(0,ft.Iz)(Ve);be({type:"SET_ERRORS",errors:vt})}finally{et()}},setField:(ze,Le)=>{be({type:"ON_CHANGE",keys:ze,value:Le})}}]},wt=()=>(0,e.useContext)(i.$l),yt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),Vt=()=>{const{latestStrapiReleaseTag:h,shouldUpdateStrapi:p}=useAppInfos(),u=useNotification();return useEffect(()=>{p&&yt&&u({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${h}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[h,p,u]),null},Xt=null,Tt=()=>(0,e.useContext)(i.Rj),Bt=(h,p,u)=>{const[L,k]=(0,e.useState)(!1),W=(0,c.useNotification)(),{post:K}=(0,c.useFetchClient)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:pe}}}=await K(`${h}${p}/regenerate`);k(!1),u(pe)}catch(pe){k(!1),W({type:"warning",message:(0,te.get)(pe,"response.data.message","notification.error")})}},isLoadingConfirmation:L}}},40928:(b,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e=[]},88506:(b,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e=[]},36206:(b,E,t)=>{"use strict";t.d(E,{sg:()=>y,bU:()=>N,ZP:()=>v});var e=t(67294),i=t(71893),n=t(45697),f=t.n(n),c=t(28702),g=t(97132),m=t(50592);const A=()=>{const{changeLocale:I,localeNames:j}=(0,m.Z)(),{locale:C}=(0,g.useIntl)();return e.createElement(c.SimpleMenu,{label:j[C]},Object.keys(j).map(z=>e.createElement(c.MenuItem,{onClick:()=>I(z),key:z},j[z])))},_=(0,i.default)(c.Box)`
  margin: 0 auto;
  width: 552px;
`,y=(0,i.default)(c.Flex)`
  flex-direction: column;
`,N=({children:I})=>e.createElement(_,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},I);N.propTypes={children:f().node.isRequired};const B=({children:I})=>e.createElement("div",null,e.createElement(c.Flex,{as:"header",justifyContent:"flex-end"},e.createElement(c.Box,{paddingTop:6,paddingRight:8},e.createElement(A,null))),e.createElement(c.Box,{paddingTop:2,paddingBottom:11},I));B.propTypes={children:f().node.isRequired};const v=B},77981:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i=[]},68070:(b,E,t)=>{"use strict";t.d(E,{Z:()=>c});var e=t(71893),i=t(28702),n=t.n(i);const c=(0,e.default)(i.FieldAction)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:g})=>g.colors.neutral600};
    }
  }
`},29773:(b,E,t)=>{"use strict";t.d(E,{Z:()=>z});var e=t(67294),i=t(95489),n=t.n(i),f=t(41363),c=t.n(f),g=t(28702),m=t.n(g),D=t(45697),A=t.n(D),_=t(97132),y=t(71893),N=t(80831),B=t(36206),v=t(79690),I=t(68070);const j=(0,y.default)(g.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,C=({onSubmit:ne,schema:fe,children:P})=>{const[le,he]=(0,e.useState)(!1),{formatMessage:V}=(0,_.useIntl)();return e.createElement(g.Main,null,e.createElement(B.bU,null,e.createElement(N.Formik,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:ne,validationSchema:fe,validateOnChange:!1},({values:a,errors:M,handleChange:O})=>e.createElement(i.Form,{noValidate:!0},e.createElement(B.sg,null,e.createElement(v.Z,null),e.createElement(g.Box,{paddingTop:6,paddingBottom:1},e.createElement(g.Typography,{variant:"alpha",as:"h1"},V({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),e.createElement(g.Box,{paddingBottom:7},e.createElement(g.Typography,{variant:"epsilon",textColor:"neutral600"},V({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),M.errorMessage&&e.createElement(g.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},M.errorMessage)),e.createElement(g.Flex,{direction:"column",alignItems:"stretch",gap:6},e.createElement(g.TextInput,{error:M.email?V({id:M.email,defaultMessage:"This value is required."}):"",value:a.email,onChange:O,label:V({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:V({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),e.createElement(j,{error:M.password?V({id:M.password,defaultMessage:"This value is required."}):"",onChange:O,value:a.password,label:V({id:"global.password",defaultMessage:"Password"}),name:"password",type:le?"text":"password",endAction:e.createElement(I.Z,{onClick:Z=>{Z.stopPropagation(),he(ve=>!ve)},label:V(le?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},le?e.createElement(f.Eye,null):e.createElement(f.EyeStriked,null)),required:!0}),e.createElement(g.Checkbox,{onValueChange:Z=>{O({target:{value:Z,name:"rememberMe"}})},value:a.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},V({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),e.createElement(g.Button,{fullWidth:!0,type:"submit"},V({id:"Auth.form.button.login",defaultMessage:"Login"}))))),P),e.createElement(g.Flex,{justifyContent:"center"},e.createElement(g.Box,{paddingTop:4},e.createElement(i.Link,{to:"/auth/forgot-password"},V({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};C.defaultProps={children:null,onSubmit(){}},C.propTypes={children:A().node,onSubmit:A().func,schema:A().shape({type:A().string.isRequired}).isRequired};const z=C},73347:(b,E,t)=>{"use strict";t.d(E,{Z:()=>m});var e=t(67294),i=t(45697),n=t.n(i),f=t(29773),c=t(36206);const g=D=>e.createElement(c.ZP,null,e.createElement(f.Z,{...D}));g.defaultProps={onSubmit:D=>D.preventDefault()},g.propTypes={onSubmit:n().func};const m=g},23330:(b,E,t)=>{"use strict";t.r(E),t.d(E,{default:()=>_});var e=t(67294),i=t(95489),n=t.n(i),f=t(28702),c=t.n(f),g=t(41363),m=t.n(g),D=t(97132);const _=()=>{const{formatMessage:y}=(0,D.useIntl)();return(0,i.useFocusWhenNavigate)(),e.createElement(f.Main,{labelledBy:"title"},e.createElement(f.HeaderLayout,{id:"title",title:y({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),e.createElement(f.ContentLayout,null,e.createElement(f.EmptyStateLayout,{action:e.createElement(i.LinkButton,{variant:"secondary",endIcon:e.createElement(g.ArrowRight,null),to:"/"},y({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:y({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:e.createElement(g.EmptyPictures,{width:"10rem"}),shadow:"tableShadow"})))}},69623:(b,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e={}},27858:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i=({data:n})=>{try{return Object.keys(n).reduce((f,c)=>{const g=n[c][0];return f[c]={id:g,defaultMessage:g},f},{})}catch{return{}}}},38683:(b,E,t)=>{"use strict";t.d(E,{R6:()=>n,ot:()=>_,Iz:()=>y.Z,Pp:()=>he,IF:()=>le,Qy:()=>a,WW:()=>j});var e=t(95489);const n=async(M,O)=>{let Z=null;try{await O.validate(M,{abortEarly:!1})}catch(ve){Z=(0,e.getYupInnerErrors)(ve)}return Z};var f=t(67294),c=t(45697),g=t.n(c),m=t(25741);const D=({loadComponent:M})=>{const[O,Z]=(0,f.useState)(null);return(0,f.useEffect)(()=>{(async()=>{try{const Ee=await M();Z(()=>Ee.default)}catch(Ee){console.log(Ee)}})()},[M]),O?f.createElement(O,null):f.createElement(e.LoadingIndicatorPage,null)},A=(M,O,Z)=>f.createElement(m.Route,{render:()=>f.createElement(D,{loadComponent:M}),key:O,path:O,exact:Z||!1});D.propTypes={loadComponent:g().func.isRequired};const _=A;var y=t(27858),N=t(96486);const B=M=>{const O=get(M,["options","timestamps"]);let Z=Array.isArray(O)?O:[];const Ee=[...["id","_id"],...Z,"publishedAt"],ae=get(M,["attributes"],{});return Object.keys(ae).reduce((Pe,De)=>(Ee.includes(De)||Pe.push({...ae[De],attributeName:De}),Pe),[])},v=null,j=M=>M.filter((O,Z,ve)=>ve.findIndex(Ee=>Ee.key===O.key)===Z),C=M=>sortBy(M,O=>O.name),z=null,ne=M=>Array.from(new Set(Object.entries(M).reduce((O,Z)=>{const ve=Ee=>Ee.reduce((ae,Pe)=>{let De=ae;return Pe.actions&&(De=[...De,...Pe.actions]),typeof Pe=="object"&&!Pe.actions&&(De=[...De,...Object.keys(Pe)]),De},[]);return[...O,...ve([...Object.values(Z[1].attributes||{}),get(Z[1],"contentTypeActions",{})])]},[]))),fe=null,le=M=>`/admin/${M}`,he=(M,O="")=>[M,O].filter(Z=>Z).join(" "),V={bufferToHex(M){return[...new Uint8Array(M)].map(O=>O.toString(16).padStart(2,"0")).join("")},async digestMessage(M){const O=new TextEncoder().encode(M),Z=await crypto.subtle.digest("SHA-256",O);return this.bufferToHex(Z)}};async function a(M){if(!M)return null;try{return await V.digestMessage(M.email)}catch{return null}}},90594:(b,E,t)=>{"use strict";t.d(E,{pl:()=>A,q5:()=>y.Z});var e=t(67294),i=t(95489),n=t(38683),f=t(18172);const c={data:[],isLoading:!0},m=(N,B)=>(0,f.default)(N,v=>{switch(B.type){case"GET_DATA_SUCCEEDED":{v.data=B.data,v.isLoading=!1;break}case"GET_DATA_ERROR":{v.isLoading=!1;break}default:return v}}),A=({ssoEnabled:N})=>{const[B,v]=(0,e.useReducer)(m,c),I=(0,i.useNotification)();(0,e.useEffect)(()=>{j()},[]);const j=async()=>{try{if(!N){v({type:"GET_DATA_SUCCEEDED",data:[]});return}const C=(0,n.IF)("providers"),z=await(0,i.request)(C,{method:"GET"});v({type:"GET_DATA_SUCCEEDED",data:z})}catch(C){console.error(C),v({type:"GET_DATA_ERROR"}),I({type:"warning",message:{id:"notification.error"}})}};return B};var _=t(94018),y=t(96510)},94018:(b,E,t)=>{"use strict";t.d(E,{Z:()=>B});var e=t(67294),i=t(97132),n=t(75551),f=t(95489),c=t.n(f),g=t(14293),m=t.n(g),D=t(96510);const A="strapi-notification-seat-limit",_="https://cloud.strapi.io/profile/billing",y="https://strapi.io/billing/request-seats",B=()=>{const{formatMessage:v}=(0,i.useIntl)();let{license:I}=(0,D.Z)();const j=(0,f.useNotification)(),{pathname:C}=(0,n.useLocation)();(0,e.useEffect)(()=>{if(!I?.data)return;const{enforcementUserCount:z,permittedSeats:ne,licenseLimitStatus:fe,isHostedOnStrapiCloud:P}=I?.data??{},le=!m()(ne)&&!window.sessionStorage.getItem(`${A}-${C}`)&&(fe==="AT_LIMIT"||fe==="OVER_LIMIT");let he;fe==="OVER_LIMIT"?he="warning":fe==="AT_LIMIT"&&(he="softWarning"),le&&j({type:he,message:v({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:fe}),title:v({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:fe,enforcementUserCount:z,permittedSeats:ne}),link:{url:P?_:y,label:v({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:P})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${A}-${C}`,!0)}})},[j,I.data,C,v])}},96510:(b,E,t)=>{"use strict";t.d(E,{Z:()=>m});var e=t(95489),i=t.n(e),n=t(23724),f=t.n(n),c=t(87751);const m=()=>{const D=(0,e.useRBAC)(c.Z.settings.users),{isLoading:A,allowedActions:{canRead:_,canCreate:y,canUpdate:N,canDelete:B}}=D,v=_&&y&&N&&B,{get:I}=(0,e.useFetchClient)(),j=async()=>{const{data:{data:z}}=await I("/admin/license-limit-information");return z};return{license:(0,n.useQuery)(["ee","license-limit-info"],j,{enabled:!A&&v})}}},95662:(b,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(87751);const f=[...strapi.features.isEnabled(strapi.features.AUDIT_LOGS)?[{intlLabel:{id:"global.auditLogs",defaultMessage:"Audit Logs"},to:"/settings/audit-logs?pageSize=50&page=1&sort=date:DESC",id:"auditLogs",isDisplayed:!1,permissions:e.Z.settings.auditLogs.main}]:[]]},8353:(b,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(87751);const f=[...strapi.features.isEnabled(strapi.features.SSO)?[{intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:e.Z.settings.sso.main}]:[]]},35499:(b,E,t)=>{"use strict";t.d(E,{Z:()=>_});var e=t(67294),i=t(25741),n=t(97132),f=t(31955),c=t(95489),g=t(38683);const D=()=>{const{params:{authResponse:y}}=(0,i.useRouteMatch)("/auth/login/:authResponse"),{formatMessage:N}=(0,n.useIntl)(),{push:B}=(0,i.useHistory)(),v=(0,e.useRef)(N);let I=(0,e.useCallback)(()=>{B(`/auth/oops?info=${encodeURIComponent(v.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[B]);const j=(0,e.useCallback)(async()=>{try{const C=f.Z.get("jwtToken");if(c.auth.clearAppStorage(),C){c.auth.setToken(C,!0);const z=(0,g.IF)("users/me"),{data:ne}=await(0,c.request)(z,{method:"GET"});c.auth.setUserInfo(ne,!0),f.Z.remove("jwtToken"),B("/auth/login")}}catch{I()}},[B,I]);return(0,e.useEffect)(()=>{y==="error"&&I(),y==="success"&&j()},[y,j,I]),e.createElement(c.LoadingIndicatorPage,null)},_=[{Component:()=>({default:D}),to:"/auth/login/:authResponse",exact:!0}]},9442:(b,E,t)=>{"use strict";t.d(E,{Z:()=>v});var e=t(67294),i=t(45697),n=t.n(i),f=t(71893),c=t(28702),g=t.n(c),m=t(97132),D=t(29773),A=t(90594),_=t(36206),y=t(51780);const N=(0,f.default)(c.Divider)`
  flex: 1;
`,B=I=>{const j=strapi.features.isEnabled(strapi.features.SSO),{isLoading:C,data:z}=(0,A.pl)({ssoEnabled:j}),{formatMessage:ne}=(0,m.useIntl)();return!j||!C&&z.length===0?e.createElement(_.ZP,null,e.createElement(D.Z,{...I})):e.createElement(_.ZP,null,e.createElement(D.Z,{...I},e.createElement(c.Box,{paddingTop:7},e.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:7},e.createElement(c.Flex,null,e.createElement(N,null),e.createElement(c.Box,{paddingLeft:3,paddingRight:3},e.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},ne({id:"Auth.login.sso.divider"}))),e.createElement(N,null)),e.createElement(y.Z,{providers:z,displayAllProviders:!1})))))};B.defaultProps={onSubmit:I=>I.preventDefault(),requestError:null},B.propTypes={formErrors:n().object.isRequired,modifiedData:n().object.isRequired,onChange:n().func.isRequired,onSubmit:n().func,requestError:n().object};const v=B},51780:(b,E,t)=>{"use strict";t.d(E,{Z:()=>B});var e=t(67294),i=t(45697),n=t.n(i),f=t(28702),c=t.n(f),g=t(71893),m=t(97132),D=t(25741);const A=g.default.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:v})=>v.colors.neutral150};
  border-radius: ${({theme:v})=>v.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:v})=>v.colors.neutral600};
`,_=(0,g.default)(f.Flex)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:v})=>v.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:v})=>v.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:v})=>v.spaces[2]};
  }
`,y=({provider:v})=>e.createElement(f.Tooltip,{label:v.displayName},e.createElement(A,{href:`${strapi.backendURL}/admin/connect/${v.uid}`},v.icon?e.createElement("img",{src:v.icon,"aria-hidden":!0,alt:"",height:"32px"}):e.createElement(f.Typography,null,v.displayName)));y.propTypes={provider:n().shape({icon:n().string,displayName:n().string.isRequired,uid:n().string.isRequired}).isRequired};const N=({providers:v,displayAllProviders:I})=>{const{formatMessage:j}=(0,m.useIntl)();return I?e.createElement(f.Grid,{gap:4},v.map(C=>e.createElement(f.GridItem,{key:C.uid,col:4},e.createElement(y,{provider:C})))):v.length>2&&!I?e.createElement(f.Grid,{gap:4},v.slice(0,2).map(C=>e.createElement(f.GridItem,{key:C.uid,col:4},e.createElement(y,{provider:C}))),e.createElement(f.GridItem,{col:4},e.createElement(f.Tooltip,{label:j({id:"global.see-more"})},e.createElement(A,{as:D.Link,to:"/auth/providers"},e.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):e.createElement(_,{justifyContent:"center"},v.map(C=>e.createElement(y,{key:C.uid,provider:C})))};N.defaultProps={displayAllProviders:!0},N.propTypes={providers:n().arrayOf(n().object).isRequired,displayAllProviders:n().bool};const B=N},98837:(b,E,t)=>{"use strict";t.d(E,{Z:()=>j});var e=t(67294),i=t(25741),n=t(71893),f=t(95489),c=t(28702),g=t(97132),m=t(90594),D=t(36206),A=t(51780),_=t(79690);const y=(0,n.default)(c.Divider)`
  flex: 1;
`,B=()=>{const C=strapi.features.isEnabled(strapi.features.SSO),{push:z}=(0,i.useHistory)(),{formatMessage:ne}=(0,g.useIntl)(),{isLoading:fe,data:P}=(0,m.pl)({ssoEnabled:C}),le=()=>{z("/auth/login")};return!C||!fe&&P.length===0?e.createElement(i.Redirect,{to:"/auth/login"}):e.createElement(D.ZP,null,e.createElement(c.Main,null,e.createElement(D.bU,null,e.createElement(D.sg,null,e.createElement(_.Z,null),e.createElement(c.Box,{paddingTop:6,paddingBottom:1},e.createElement(c.Typography,{as:"h1",variant:"alpha"},ne({id:"Auth.form.welcome.title"}))),e.createElement(c.Box,{paddingBottom:7},e.createElement(c.Typography,{variant:"epsilon",textColor:"neutral600"},ne({id:"Auth.login.sso.subtitle"})))),e.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:7},fe?e.createElement(c.Flex,{justifyContent:"center"},e.createElement(c.Loader,null,ne({id:"Auth.login.sso.loading"}))):e.createElement(A.Z,{providers:P}),e.createElement(c.Flex,null,e.createElement(y,null),e.createElement(c.Box,{paddingLeft:3,paddingRight:3},e.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},ne({id:"or"}))),e.createElement(y,null)),e.createElement(c.Button,{fullWidth:!0,size:"L",onClick:le},ne({id:"Auth.form.button.login.strapi"})))),e.createElement(c.Flex,{justifyContent:"center"},e.createElement(c.Box,{paddingTop:4},e.createElement(f.Link,{to:"/auth/forgot-password"},e.createElement(c.Typography,{variant:"pi"},ne({id:"Auth.link.forgot-password"})))))))};var v=t(42243);const j={...v.Z,providers:{Component:B,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}},2199:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i={settings:{auditLogs:{main:[{action:"admin::audit-logs.read",subject:null}],read:[{action:"admin::audit-logs.read",subject:null}]},sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}}},61473:(b,E,t)=>{"use strict";b.exports=t.p+"70674f63fc3904c20de0.svg"}}]);
