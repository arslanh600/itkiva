(self.webpackChunkiktva_strapi_api=self.webpackChunkiktva_strapi_api||[]).push([[8880],{68314:(W,V,d)=>{"use strict";d.d(V,{Z:()=>$});var t=d(67294),F=d(71893),D=d(45697),v=d.n(D),f=d(28702),s=d.n(f),E=d(41363),B=d.n(E),Q=d(95489),n=d.n(Q);const h={biginteger:E.Number,boolean:E.Boolean,collectionType:E.CollectionType,component:E.Component,contentType:E.CollectionType,date:E.Date,datetime:E.Date,decimal:E.Number,dynamiczone:E.DynamicZone,email:E.Email,enum:E.Enumeration,enumeration:E.Enumeration,file:E.Media,files:E.Media,float:E.Number,integer:E.Number,json:E.Json,JSON:E.Json,media:E.Media,number:E.Number,password:E.Password,relation:E.Relation,richtext:E.RichText,singleType:E.SingleType,string:E.Text,text:E.Text,time:E.Date,timestamp:E.Date,uid:E.Uid},S=(0,F.default)(f.Box)`
  svg {
    height: 100%;
    width: 100%;
  }
`,U=({type:Y,customField:u,...K})=>{const z=(0,Q.useCustomFields)();let M=h[Y];if(u){const{icon:_}=z.get(u);_&&(M=_)}return h[Y]?t.createElement(S,{height:(0,Q.pxToRem)(24),width:(0,Q.pxToRem)(32),shrink:0,...K,"aria-hidden":!0},t.createElement(f.Box,{as:M})):null};U.defaultProps={customField:null},U.propTypes={type:v().string.isRequired,customField:v().string};const $=U},7955:(W,V,d)=>{"use strict";d.d(V,{Z:()=>D});var t=d(67294);const D=(0,t.createContext)()},98422:(W,V,d)=>{"use strict";d.d(V,{Z:()=>D});var t=d(67294);const D=(0,t.createContext)()},13588:(W,V,d)=>{"use strict";d.d(V,{Z:()=>v});var t=d(67294),F=d(7955);const v=()=>(0,t.useContext)(F.Z)},26478:(W,V,d)=>{"use strict";d.d(V,{Z:()=>v});var t=d(67294),F=d(98422);const v=()=>(0,t.useContext)(F.Z)},67972:(W,V,d)=>{"use strict";d.r(V),d.d(V,{default:()=>hr});var t=d(67294),F=d(25741),D=d(15482),v=d(97132),f=d(95489),s=d(28702),E=d(57176),B=d(96124),Q=d(45697),n=d.n(Q),h=d(96486),S=d(37424),U=d(35281),$=d(7955),Y=d(26478),u=d(5002),K=d(85169),z=d(27361),M=d.n(z),_=d(18721),te=d.n(_),re=d(36968),ye=d.n(re),De=d(7334),ve=d.n(De),me=d(13588),nt=d(11700),Ce=d.n(nt);const Qe=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],Be=({intlLabel:e,name:a,onChange:r,value:i})=>{const{formatMessage:o}=(0,v.useIntl)(),l=i===null||i.length===0?o({id:"global.none",defaultMessage:"None"}):[...i].sort().map(m=>Ce()(m)).join(", "),c=e.id?o({id:e.id,defaultMessage:e.defaultMessage}):a;return t.createElement(s.MultiSelectNested,{id:"select1",label:c,customizeContent:()=>l,onChange:m=>{m.length>0?r({target:{name:a,value:m,type:"allowed-types-select"}}):r({target:{name:a,value:null,type:"allowed-types-select"}})},options:Qe,value:i||[]})};Be.defaultProps={value:null},Be.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().oneOfType([n().object,n().array])};const Ue=Be,_e=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var Pe=d(68314),$e=d(71893);const Vt=(0,$e.default)(s.Box)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,rt=({type:e})=>{const{formatMessage:a}=(0,v.useIntl)(),{onClickSelectField:r}=(0,Y.Z)(),i=()=>{r({attributeType:e,step:e==="component"?"1":null})};return t.createElement(Vt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},t.createElement(s.Flex,null,t.createElement(Pe.Z,{type:e}),t.createElement(s.Box,{paddingLeft:4},t.createElement(s.Flex,null,t.createElement(s.Typography,{fontWeight:"bold"},a({id:(0,u.Z)(`attribute.${e}`),defaultMessage:e}))),t.createElement(s.Flex,null,t.createElement(s.Typography,{variant:"pi",textColor:"neutral600"},a({id:(0,u.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};rt.defaultProps={type:"text"},rt.propTypes={type:n().string};const Pn=rt,Gt=e=>{const a=e%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}},Ht=({attributes:e})=>t.createElement(s.KeyboardNavigable,{tagName:"button"},t.createElement(s.Flex,{direction:"column",alignItems:"stretch",gap:8},e.map((a,r)=>t.createElement(s.Grid,{key:r,gap:0},a.map((i,o)=>{const{paddingLeft:l,paddingRight:c}=Gt(o);return t.createElement(s.GridItem,{key:i,col:6,style:{height:"100%"}},t.createElement(s.Box,{paddingLeft:l,paddingRight:c,paddingBottom:1,style:{height:"100%"}},t.createElement(Pn,{type:i})))})))));Ht.propTypes={attributes:n().array.isRequired};const In=Ht;var kn=d(80129),Bn=d.n(kn),be=d(41363);const Un=(0,$e.default)(s.Box)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,$n=()=>t.createElement(s.Flex,{wrap:"wrap",gap:4},[...Array(4)].map((e,a)=>t.createElement(Un,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0}))),jn=()=>{const{formatMessage:e}=(0,v.useIntl)();return t.createElement(s.Box,{position:"relative"},t.createElement($n,null),t.createElement(s.Box,{position:"absolute",top:6,width:"100%"},t.createElement(s.Flex,{alignItems:"center",justifyContent:"center",direction:"column"},t.createElement(s.Icon,{as:be.EmptyStateDocument,color:"",width:"160px",height:"88px"}),t.createElement(s.Box,{paddingTop:6,paddingBottom:4},t.createElement(s.Box,{textAlign:"center"},t.createElement(s.Typography,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),t.createElement(s.Box,{paddingTop:4},t.createElement(s.Typography,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),t.createElement(s.LinkButton,{to:`/marketplace?${Bn().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:t.createElement(be.Plus,null)},e({id:(0,u.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Kt=({customFieldUid:e,customField:a})=>{const{type:r,intlLabel:i,intlDescription:o}=a,{formatMessage:l}=(0,v.useIntl)(),{onClickSelectCustomField:c}=(0,Y.Z)(),m=()=>{c({attributeType:r,customFieldUid:e})};return t.createElement(Vt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:m},t.createElement(s.Flex,null,t.createElement(Pe.Z,{type:r,customField:e}),t.createElement(s.Box,{paddingLeft:4},t.createElement(s.Flex,null,t.createElement(s.Typography,{fontWeight:"bold"},l(i))),t.createElement(s.Flex,null,t.createElement(s.Typography,{variant:"pi",textColor:"neutral600"},l(o))))))};Kt.propTypes={customFieldUid:n().string.isRequired,customField:n().shape({type:n().string.isRequired,icon:n().func,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,intlDescription:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired}).isRequired};const wn=Kt,Wn=()=>{const{formatMessage:e}=(0,v.useIntl)(),a=(0,f.useCustomFields)(),r=Object.entries(a.getAll());if(!r.length)return t.createElement(jn,null);const i=r.sort((o,l)=>o[1].name>l[1].name?1:-1);return t.createElement(s.KeyboardNavigable,{tagName:"button"},t.createElement(s.Flex,{direction:"column",alignItems:"stretch",gap:3},t.createElement(s.Grid,{gap:0},i.map(([o,l],c)=>{const{paddingLeft:m,paddingRight:p}=Gt(c);return t.createElement(s.GridItem,{key:o,col:6,style:{height:"100%"}},t.createElement(s.Box,{paddingLeft:m,paddingRight:p,paddingBottom:1,style:{height:"100%"}},t.createElement(wn,{key:o,customFieldUid:o,customField:l})))})),t.createElement(s.Link,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,u.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Yt=({attributes:e,forTarget:a,kind:r})=>{const{formatMessage:i}=(0,v.useIntl)(),o=(0,u.Z)("modalForm.tabs.default"),l=(0,u.Z)("modalForm.tabs.custom"),c=a.includes("component")?"component":r,m=(0,u.Z)(`modalForm.sub-header.chooseAttribute.${c}`);return t.createElement(s.ModalBody,{padding:6},t.createElement(s.TabGroup,{label:i({id:(0,u.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},t.createElement(s.Flex,{justifyContent:"space-between"},t.createElement(s.Typography,{variant:"beta",as:"h2"},i({id:m,defaultMessage:"Select a field"})),t.createElement(s.Tabs,null,t.createElement(s.Tab,null,i({id:o,defaultMessage:"Default"})),t.createElement(s.Tab,null,i({id:l,defaultMessage:"Custom"})))),t.createElement(s.Box,{paddingBottom:6},t.createElement(s.Divider,null)),t.createElement(s.TabPanels,null,t.createElement(s.TabPanel,null,t.createElement(In,{attributes:e})),t.createElement(s.TabPanel,null,t.createElement(Wn,null)))))};Yt.propTypes={attributes:n().array.isRequired,forTarget:n().string.isRequired,kind:n().string.isRequired};const zn=Yt,ot=({description:e,disabled:a,intlLabel:r,isCreating:i,name:o,onChange:l,value:c})=>{const{formatMessage:m}=(0,v.useIntl)(),[p,y]=(0,t.useState)(!1),b=r.id?m({id:r.id,defaultMessage:r.defaultMessage},{...r.values}):o,g=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=()=>y(k=>!k),x=()=>{l({target:{name:o,value:!1}}),R()},P=({target:{checked:k}})=>{if(!k&&!i){R();return}l({target:{name:o,value:k}})};return t.createElement(t.Fragment,null,t.createElement(s.Checkbox,{checked:c,disabled:a,hint:g,name:o,onChange:P},b),t.createElement(f.ConfirmDialog,{isOpen:p,onToggleDialog:R,onConfirm:x,bodyText:{id:(0,u.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,u.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};ot.defaultProps={description:null,disabled:!1,value:!1},ot.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),disabled:n().bool,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,isCreating:n().bool.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().bool};const Vn=ot,st=({actionType:e,attributeName:a,attributeType:r,categoryName:i,contentTypeKind:o,dynamicZoneTarget:l,forTarget:c,modalType:m,targetUid:p,customFieldUid:y})=>{const{formatMessage:b}=(0,v.useIntl)(),{modifiedData:g}=(0,me.Z)();let R,x=[];const P=g?.[c]?.[p]||g?.[c]||null;let k=P?.schema.displayName;if(m==="contentType"&&(R=o),["component","editCategory"].includes(m)&&(R="component"),["component","contentType"].includes(m)){let A=(0,u.Z)(`modalForm.component.header-${e}`);return m==="contentType"&&(A=(0,u.Z)(`modalForm.${o}.header-create`)),e==="edit"&&(A=(0,u.Z)("modalForm.header-edit")),t.createElement(s.ModalHeader,null,t.createElement(s.Flex,null,t.createElement(s.Box,null,t.createElement(Pe.Z,{type:R})),t.createElement(s.Box,{paddingLeft:3},t.createElement(s.Typography,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},b({id:A},{name:k})))))}x=[{label:k,info:{category:P?.category||null,name:P?.schema.displayName}}],m==="chooseAttribute"&&(R=["component","components"].includes(c)?"component":P.schema.kind),m==="addComponentToDynamicZone"&&(R="dynamiczone",x.push({label:l})),(m==="attribute"||m==="customField")&&(R=r,x.push({label:a})),m==="editCategory"&&(x=[{label:b({id:(0,u.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]);const Z=x.map(({label:A})=>A).join(",");return t.createElement(s.ModalHeader,null,t.createElement(s.Flex,{gap:3},t.createElement(Pe.Z,{type:R,customField:y}),t.createElement(s.Breadcrumbs,{label:Z},x.map((A,L)=>{const ne=Ce()(A.label);if(!ne)return null;const ae=`${A.label}.${L}`;if(A.info?.category){const pe=`${ne} (${Ce()(A.info.category)} - ${Ce()(A.info.name)})`;return t.createElement(s.Crumb,{key:ae},pe)}return t.createElement(s.Crumb,{key:ae},ne)}))))};st.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},st.propTypes={actionType:n().string,attributeName:n().string,attributeType:n().string,categoryName:n().string,contentTypeKind:n().string,dynamicZoneTarget:n().string,forTarget:n().oneOf(["contentType","component","components"]),modalType:n().string.isRequired,targetUid:n().string,customFieldUid:n().string};const Gn=st,it=({categoryName:e,deleteCategory:a,deleteComponent:r,deleteContentType:i,isAttributeModal:o,isCustomFieldModal:l,isComponentAttribute:c,isComponentToDzModal:m,isContentTypeModal:p,isCreatingComponent:y,isCreatingComponentAttribute:b,isCreatingComponentInDz:g,isCreatingComponentWhileAddingAField:R,isCreatingContentType:x,isCreatingDz:P,isComponentModal:k,isDzAttribute:X,isEditingAttribute:Z,isEditingCategory:A,isInFirstComponentStep:L,onSubmitAddComponentAttribute:ne,onSubmitAddComponentToDz:ae,onSubmitCreateContentType:pe,onSubmitCreateComponent:j,onSubmitCreateDz:le,onSubmitEditAttribute:Ee,onSubmitEditCategory:Ye,onSubmitEditComponent:he,onSubmitEditContentType:We,onSubmitEditCustomFieldAttribute:oe,onSubmitEditDz:ze,onClickFinish:ce})=>{const{formatMessage:ee}=(0,v.useIntl)();return m?g?t.createElement(s.Button,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),ae(N,!0)},startIcon:t.createElement(be.Plus,null)},ee({id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):t.createElement(s.Button,{variant:"default",type:"submit",onClick:N=>{N.preventDefault(),ae(N,!1)}},ee({id:"global.finish",defaultMessage:"Finish"})):o&&X&&!P?t.createElement(s.Button,{variant:"default",type:"submit",onClick:N=>{N.preventDefault(),ce(),ze(N,!1)}},ee({id:"global.finish",defaultMessage:"Finish"})):o&&X&&P?t.createElement(t.Fragment,null,t.createElement(s.Button,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),le(N,!0)},startIcon:t.createElement(be.Plus,null)},ee({id:(0,u.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):o&&c?L?t.createElement(s.Button,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),ne(N,!0)}},ee(b?{id:(0,u.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,u.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):t.createElement(t.Fragment,null,t.createElement(s.Button,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),ne(N,!0)},startIcon:t.createElement(be.Plus,null)},ee(R?{id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(s.Button,{variant:"default",type:"button",onClick:N=>{N.preventDefault(),ce(),ne(N,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))):o&&!c&&!X?t.createElement(t.Fragment,null,t.createElement(s.Button,{type:Z?"button":"submit",variant:"secondary",onClick:N=>{N.preventDefault(),Ee(N,!0)},startIcon:t.createElement(be.Plus,null)},ee({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(s.Button,{type:Z?"submit":"button",variant:"default",onClick:N=>{N.preventDefault(),ce(),Ee(N,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))):p?t.createElement(t.Fragment,null,!x&&t.createElement(t.Fragment,null,t.createElement(s.Button,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),i()}},ee({id:"global.delete",defaultMessage:"Delete"})),t.createElement(s.Button,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),We(N,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))),x&&t.createElement(s.Button,{type:"submit",variant:"secondary",onClick:N=>{N.preventDefault(),pe(N,!0)}},ee({id:"global.continue",defaultMessage:"Continue"}))):k?t.createElement(t.Fragment,null,!y&&t.createElement(t.Fragment,null,t.createElement(s.Button,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),r()}},ee({id:"global.delete",defaultMessage:"Delete"})),t.createElement(s.Button,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),he(N,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))),y&&t.createElement(s.Button,{type:"submit",variant:"secondary",onClick:N=>{N.preventDefault(),j(N,!0)}},ee({id:"global.continue",defaultMessage:"Continue"}))):A?t.createElement(t.Fragment,null,t.createElement(s.Button,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),a(e)}},ee({id:"global.delete",defaultMessage:"Delete"})),t.createElement(s.Button,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),Ye(N)}},ee({id:"global.finish",defaultMessage:"finish"}))):l?t.createElement(t.Fragment,null,t.createElement(s.Button,{type:Z?"button":"submit",variant:"secondary",onClick:N=>{N.preventDefault(),oe(N,!0)},startIcon:t.createElement(be.Plus,null)},ee({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(s.Button,{type:Z?"submit":"button",variant:"default",onClick:N=>{N.preventDefault(),ce(),oe(N,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))):null};it.defaultProps={categoryName:null,onClickFinish(){}},it.propTypes={categoryName:n().string,deleteCategory:n().func.isRequired,deleteComponent:n().func.isRequired,deleteContentType:n().func.isRequired,isAttributeModal:n().bool.isRequired,isCustomFieldModal:n().bool.isRequired,isComponentAttribute:n().bool.isRequired,isComponentModal:n().bool.isRequired,isComponentToDzModal:n().bool.isRequired,isContentTypeModal:n().bool.isRequired,isCreatingComponent:n().bool.isRequired,isCreatingComponentAttribute:n().bool.isRequired,isCreatingComponentInDz:n().bool.isRequired,isCreatingComponentWhileAddingAField:n().bool.isRequired,isCreatingContentType:n().bool.isRequired,isCreatingDz:n().bool.isRequired,isDzAttribute:n().bool.isRequired,isEditingAttribute:n().bool.isRequired,isEditingCategory:n().bool.isRequired,isInFirstComponentStep:n().bool.isRequired,onSubmitAddComponentAttribute:n().func.isRequired,onSubmitAddComponentToDz:n().func.isRequired,onSubmitCreateContentType:n().func.isRequired,onSubmitCreateComponent:n().func.isRequired,onSubmitCreateDz:n().func.isRequired,onSubmitEditAttribute:n().func.isRequired,onSubmitEditCategory:n().func.isRequired,onSubmitEditComponent:n().func.isRequired,onSubmitEditContentType:n().func.isRequired,onSubmitEditCustomFieldAttribute:n().func.isRequired,onSubmitEditDz:n().func.isRequired,onClickFinish:n().func};const Hn=it,Kn=({modalType:e,forTarget:a,kind:r,actionType:i,step:o})=>{switch(e){case"chooseAttribute":return(0,u.Z)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":r||"collectionType"}`);case"attribute":return(0,u.Z)(`modalForm.sub-header.attribute.${i}${o!=="null"&&o!==null&&i!=="edit"?".step":""}`);case"customField":return(0,u.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,u.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,u.Z)("configurations")}},lt=({actionType:e,modalType:a,forTarget:r,kind:i,step:o,attributeType:l,attributeName:c,customField:m})=>{const{formatMessage:p}=(0,v.useIntl)(),y=a==="customField"?m.intlLabel:{id:(0,u.Z)(`attribute.${l}`)};return t.createElement(s.Flex,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},t.createElement(s.Typography,{as:"h2",variant:"beta"},p({id:Kn({actionType:e,forTarget:r,kind:i,step:o,modalType:a}),defaultMessage:"Add new field"},{type:Ce()(p(y)),name:Ce()(c),step:o})),t.createElement(s.Typography,{variant:"pi",textColor:"neutral600"},p({id:(0,u.Z)(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})))};lt.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},lt.propTypes={actionType:n().string,modalType:n().string,forTarget:n().string,kind:n().string,step:n().string,attributeType:n().string,attributeName:n().string,customField:n().object};const Yn=lt,ut=({intlLabel:e,name:a,options:r,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),c=e.id?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):a,m=p=>{let y="";p==="true"&&(y=!0),p==="false"&&(y=!1),i({target:{name:a,value:y,type:"select-default-boolean"}})};return t.createElement(s.Select,{label:c,id:a,name:a,onChange:m,value:(o===null?"":o).toString()},r.map(({metadatas:{intlLabel:p,disabled:y,hidden:b},key:g,value:R})=>t.createElement(s.Option,{key:g,value:R,disabled:y,hidden:b},p.defaultMessage)))};ut.defaultProps={value:null},ut.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().any};const Xn=ut,Jn=(0,$e.default)(s.Flex)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,s.inputFocusStyle)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${s.Typography} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,dt=({intlLabel:e,name:a,onChange:r,radios:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)();return t.createElement(s.Flex,{direction:"column",alignItems:"stretch",gap:2},t.createElement(s.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},l(e)),t.createElement(Jn,{gap:4,alignItems:"stretch"},i.map(c=>t.createElement("label",{htmlFor:c.value.toString(),key:c.value,className:"container"},t.createElement("input",{id:c.value.toString(),name:a,className:"option-input",checked:c.value===o,value:c.value,key:c.value,onChange:r,type:"radio"}),t.createElement(s.Box,{className:"option",padding:4},t.createElement(s.Flex,null,t.createElement(s.Box,{paddingRight:4},t.createElement("span",{className:"checkmark"})),t.createElement(s.Flex,{direction:"column",alignItems:"stretch",gap:2},t.createElement(s.Typography,{fontWeight:"bold"},l(c.title)),t.createElement(s.Typography,{variant:"pi",textColor:"neutral600"},l(c.description)))))))))};dt.defaultProps={radios:[]},dt.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,radios:n().arrayOf(n().shape({title:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}),description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}),value:n().any.isRequired})),value:n().oneOfType([n().string,n().bool]).isRequired};const ct=dt,Xt=({onChange:e,name:a,...r})=>{const i=o=>{const l=o.target.value!=="false";e({target:{name:a,value:l,type:"boolean-radio-group"}})};return t.createElement(ct,{...r,name:a,onChange:i})};Xt.propTypes={name:n().string.isRequired,onChange:n().func.isRequired};const Qn=Xt,mt=({error:e,intlLabel:a,modifiedData:r,name:i,onChange:o,value:l})=>{const{formatMessage:c}=(0,v.useIntl)(),[m,p]=(0,t.useState)(!!l||l===0),y=a.id?c({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):i,b=r.type==="biginteger"?"text":"number",g=!r.type,R=e?c({id:e,defaultMessage:e}):"";return t.createElement(s.Flex,{direction:"column",alignItems:"stretch",gap:2},t.createElement(s.Checkbox,{id:i,name:i,onValueChange:x=>{o({target:{name:i,value:x?b==="text"?"0":0:null}}),p(X=>!X)},value:m},y),m&&t.createElement(s.Box,{paddingLeft:6,style:{maxWidth:"200px"}},b==="text"?t.createElement(s.TextInput,{"aria-label":y,disabled:g,error:R,id:i,name:i,onChange:o,value:l===null?"":l}):t.createElement(s.NumberInput,{"aria-label":y,disabled:g,error:R,id:i,name:i,onValueChange:x=>{o({target:{name:i,value:x,type:b}})},value:l||0})))};mt.defaultProps={error:null,value:null},mt.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().oneOfType([n().string,n().object,n().bool,n().number])};const _n=mt,Jt=({onChange:e,...a})=>{const r=(0,f.useNotification)(),i=o=>{r({type:"info",message:{id:(0,u.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(o)};return t.createElement(ct,{...a,onChange:i})};Jt.propTypes={onChange:n().func.isRequired};const ea=Jt;var pt=d(1734),ie=d(59015);const gt=({oneThatIsCreatingARelationWithAnother:e,target:a})=>{const{contentTypes:r,sortedContentTypesList:i}=(0,me.Z)(),o=(0,S.useDispatch)(),l=i.filter(_e),c=M()(r,[a,"plugin"],null),m=M()(r,[a,"schema","displayName"],"error");return t.createElement(s.SimpleMenu,{id:"label",label:`${m}
    ${c?`(from: ${c})`:""}`},l.map(({uid:p,title:y,restrictRelationsTo:b,plugin:g})=>{const R=()=>{const x=g?`${g}_${y}`:y;o({type:ie.aG,target:{value:p,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:x,targetContentTypeAllowedRelations:b}})};return t.createElement(s.MenuItem,{key:p,onClick:R},y,"\xA0",g&&t.createElement(t.Fragment,null,"(from: ",g,")"))}))};gt.defaultProps={target:null},gt.propTypes={oneThatIsCreatingARelationWithAnother:n().string.isRequired,target:n().string};const ta=gt,ft=({disabled:e,error:a,header:r,isMain:i,name:o,onChange:l,oneThatIsCreatingARelationWithAnother:c,target:m,value:p})=>t.createElement(s.Box,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},t.createElement(s.Flex,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?t.createElement(s.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},r):t.createElement(ta,{target:m,oneThatIsCreatingARelationWithAnother:c})),t.createElement(s.Divider,{background:"neutral200"}),t.createElement(s.Box,{padding:4},t.createElement(f.GenericInput,{disabled:e,error:a?.id||null,intlLabel:{id:(0,u.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:o,onChange:l,type:"text",value:p})));ft.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},ft.propTypes={disabled:n().bool,error:n().object,header:n().string,isMain:n().bool,name:n().string.isRequired,onChange:n().func,oneThatIsCreatingARelationWithAnother:n().string,target:n().string,value:n().string};const Qt=ft;var na=d(39138),_t=d.n(na),aa=d(23450),yt=d.n(aa);const ra=(0,$e.default)(s.Box)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,oa=(0,$e.default)(s.Box)`
  background: ${({theme:e,isSelected:a})=>e.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,sa=(0,$e.default)(s.Flex)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,ia={oneWay:be.OneWay,oneToOne:be.OneToOne,oneToMany:be.OneToMany,manyToOne:be.ManyToOne,manyToMany:be.ManyToMany,manyWay:be.ManyWays},bt=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:a,relationType:r,target:i})=>{const o=(0,S.useDispatch)(),{formatMessage:l}=(0,v.useIntl)(),{contentTypes:c,modifiedData:m}=(0,me.Z)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],y=["oneWay","manyWay"],g=(e==="contentType"?M()(m,[e,"schema","kind"],""):e)==="collectionType"?p:y,R=r==="manyToOne",x=M()(c,[i,"schema","displayName"],"unknown"),P=R?x:a,k=R?a:x,X=yt()(P,r==="manyToMany"?2:1),Z=M()(c,[i,"schema","restrictRelationsTo"],null),A=yt()(k,["manyToMany","oneToMany","manyToOne","manyWay"].includes(r)?2:1);return r?t.createElement(s.Flex,{style:{flex:1}},t.createElement(ra,null,t.createElement(s.Flex,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},t.createElement(s.KeyboardNavigable,{tagName:"button"},t.createElement(s.Flex,{gap:3},g.map(L=>{const ne=ia[L],ae=Z===null||Z.includes(L);return t.createElement(oa,{as:"button",isSelected:r===L,disabled:!ae,key:L,onClick:()=>{ae&&o({type:ie.QQ,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:i,value:L}})},padding:2,type:"button"},t.createElement(ne,{key:L}))}))))),t.createElement(sa,{justifyContent:"center"},t.createElement(s.Typography,null,_t()(X,{length:24}),"\xA0"),t.createElement(s.Typography,{textColor:"primary600"},l({id:(0,u.Z)(`relation.${r}`)}),"\xA0"),t.createElement(s.Typography,null,_t()(A,{length:24})))):null};bt.defaultProps={relationType:null,target:null},bt.propTypes={naturePickerType:n().string.isRequired,oneThatIsCreatingARelationWithAnother:n().string.isRequired,relationType:n().string,target:n().string};const la=bt,en=({formErrors:e,mainBoxHeader:a,modifiedData:r,naturePickerType:i,onChange:o})=>{const l=(0,pt.Z)(r.relation,r.targetAttribute);return t.createElement(s.Flex,{style:{position:"relative"}},t.createElement(Qt,{isMain:!0,header:a,error:e?.name||null,name:"name",onChange:o,value:r?.name||""}),t.createElement(la,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:a,relationType:l,target:r.target}),t.createElement(Qt,{disabled:["oneWay","manyWay"].includes(l),error:e?.targetAttribute||null,name:"targetAttribute",onChange:o,oneThatIsCreatingARelationWithAnother:a,target:r.target,value:r?.targetAttribute||""}))};en.propTypes={formErrors:n().object.isRequired,mainBoxHeader:n().string.isRequired,modifiedData:n().object.isRequired,naturePickerType:n().string.isRequired,onChange:n().func.isRequired};const ua=en;var tn=d(97406);const ht=({description:e,error:a,intlLabel:r,modifiedData:i,name:o,onChange:l,value:c})=>{const{formatMessage:m}=(0,v.useIntl)(),p=(0,t.useRef)(l),y=i?.displayName||"";(0,t.useEffect)(()=>{if(y){const x=(0,tn.Z)(y);try{const P=yt()(x,2);p.current({target:{name:o,value:P}})}catch{p.current({target:{name:o,value:x}})}}else p.current({target:{name:o,value:""}})},[y,o]);const b=a?m({id:a,defaultMessage:a}):"",g=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=m(r);return t.createElement(s.TextInput,{error:b,label:R,id:o,hint:g,name:o,onChange:l,value:c||""})};ht.defaultProps={description:null,error:null,value:null},ht.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const da=ht,Tt=({error:e,intlLabel:a,name:r,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),{allComponentsCategories:c}=(0,me.Z)(),[m,p]=(0,t.useState)(c),y=e?l({id:e,defaultMessage:e}):"",b=l(a),g=x=>{i({target:{name:r,value:x,type:"select-category"}})},R=x=>{p(P=>[...P,x]),g(x)};return t.createElement(s.CreatableCombobox,{error:y,id:r,label:b,name:r,onChange:g,onCreateOption:R,value:o},m.map(x=>t.createElement(s.ComboboxOption,{key:x,value:x},x)))};Tt.defaultProps={error:null,value:null},Tt.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const ca=Tt,vt=({error:e,intlLabel:a,isAddingAComponentToAnotherComponent:r,isCreating:i,isCreatingComponentWhileAddingAField:o,componentToCreate:l,name:c,onChange:m,targetUid:p,forTarget:y,value:b})=>{const{formatMessage:g}=(0,v.useIntl)(),R=e?g({id:e,defaultMessage:e}):"",x=g(a),{componentsGroupedByCategory:P,componentsThatHaveOtherComponentInTheirAttributes:k}=(0,me.Z)(),X=["component","components"].includes(y);let Z=Object.entries(P).reduce((A,L)=>{const[ne,ae]=L,pe=ae.map(j=>({uid:j.uid,label:j.schema.displayName,categoryName:ne}));return[...A,...pe]},[]);return r&&(Z=Z.filter(A=>!k.includes(A.uid))),X&&(Z=Z.filter(A=>A.uid!==p)),o&&(Z=[{uid:b,label:l.displayName,categoryName:l.category}]),t.createElement(s.Select,{disabled:o||!i,error:R,label:x,id:c,name:c,onChange:A=>{m({target:{name:c,value:A,type:"select-category"}})},value:b||""},Z.map(A=>t.createElement(s.Option,{key:A.uid,value:A.uid},`${A.categoryName} - ${A.label}`)))};vt.defaultProps={componentToCreate:null,error:null},vt.propTypes={componentToCreate:n().object,forTarget:n().string.isRequired,error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,isAddingAComponentToAnotherComponent:n().bool.isRequired,isCreating:n().bool.isRequired,isCreatingComponentWhileAddingAField:n().bool.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,targetUid:n().string.isRequired,value:n().string.isRequired};const ma=vt,Ct=(e,a)=>e.find(({name:r})=>r===a),nn=({dynamicZoneTarget:e,intlLabel:a,name:r,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),{componentsGroupedByCategory:c,modifiedData:m}=(0,me.Z)(),y=(Ct(m.contentType.schema.attributes,e)||{}).components||[],b=Object.keys(c).reduce((x,P)=>{const k=c[P].filter(({uid:X})=>!y.includes(X));return k.length>0&&(x[P]=k),x},{}),g=Object.entries(b).reduce((x,P)=>{const[k,X]=P,Z={label:k,children:X.map(({uid:A,schema:{displayName:L}})=>({label:L,value:A}))};return x.push(Z),x},[]),R=l({id:(0,u.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:o.length});return t.createElement(s.MultiSelectNested,{id:"select1",label:l(a),customizeContent:()=>R,name:r,onChange:x=>{i({target:{name:r,value:x,type:"select-components"}})},options:g,value:o||[]})};nn.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,dynamicZoneTarget:n().string.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().array.isRequired};const pa=nn,Et=({intlLabel:e,error:a,modifiedData:r,name:i,onChange:o,options:l,value:c})=>{const{formatMessage:m}=(0,v.useIntl)(),p=m(e),y=a?m({id:a,defaultMessage:a}):"",b=g=>{o({target:{name:i,value:g,type:"select"}}),c&&r.default!==void 0&&r.default!==null&&o({target:{name:"default",value:null}})};return t.createElement(s.Select,{error:y,label:p,id:i,name:i,onChange:b,value:c||""},l.map(({metadatas:{intlLabel:g,disabled:R,hidden:x},key:P,value:k})=>t.createElement(s.Option,{key:P,value:k,disabled:R,hidden:x},m({id:g.id,defaultMessage:g.defaultMessage},g.values))))};Et.defaultProps={error:void 0,value:""},Et.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().string};const ga=Et,Mt=({intlLabel:e,error:a,modifiedData:r,name:i,onChange:o,options:l,value:c})=>{const{formatMessage:m}=(0,v.useIntl)(),p=m(e),y=a?m({id:a,defaultMessage:a}):"",b=g=>{o({target:{name:i,value:g,type:"select"}}),c&&(g==="biginteger"&&c!=="biginteger"&&(r.default!==void 0&&r.default!==null&&o({target:{name:"default",value:null}}),r.max!==void 0&&r.max!==null&&o({target:{name:"max",value:null}}),r.min!==void 0&&r.min!==null&&o({target:{name:"min",value:null}})),["decimal","float","integer"].includes(g)&&c==="biginteger"&&(r.default!==void 0&&r.default!==null&&o({target:{name:"default",value:null}}),r.max!==void 0&&r.max!==null&&o({target:{name:"max",value:null}}),r.min!==void 0&&r.min!==null&&o({target:{name:"min",value:null}})))};return t.createElement(s.Select,{error:y,label:p,id:i,name:i,onChange:b,value:c||""},l.map(({metadatas:{intlLabel:g,disabled:R,hidden:x},key:P,value:k})=>t.createElement(s.Option,{key:P,value:k,disabled:R,hidden:x},m(g))))};Mt.defaultProps={error:void 0,value:""},Mt.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().string};const fa=Mt,Rt=({description:e,error:a,intlLabel:r,modifiedData:i,name:o,onChange:l,value:c})=>{const{formatMessage:m}=(0,v.useIntl)(),p=(0,t.useRef)(l),y=i?.displayName||"";(0,t.useEffect)(()=>{y?p.current({target:{name:o,value:(0,tn.Z)(y)}}):p.current({target:{name:o,value:""}})},[y,o]);const b=a?m({id:a,defaultMessage:a}):"",g=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=m(r);return t.createElement(s.TextInput,{error:b,label:R,id:o,hint:g,name:o,onChange:l,value:c||""})};Rt.defaultProps={description:null,error:null,value:null},Rt.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const ya=Rt,an=({form:e,formErrors:a,genericInputProps:r,modifiedData:i,onChange:o})=>{const{formatMessage:l}=(0,v.useIntl)();return e.map((c,m)=>c.items.length===0?null:t.createElement(s.Box,{key:m},c.sectionTitle&&t.createElement(s.Box,{paddingBottom:4},t.createElement(s.Typography,{variant:"delta",as:"h3"},l(c.sectionTitle))),t.createElement(s.Grid,{gap:4},c.items.map((p,y)=>{const b=`${m}.${y}`,g=M()(i,p.name,""),R=Object.keys(a).find(P=>P===p.name),x=R?a[R].id:M()(a,[...p.name.split(".").filter(P=>P!=="componentToCreate"),"id"],null);return p.type==="pushRight"?t.createElement(s.GridItem,{col:p.size||6,key:p.name||b},t.createElement("div",null)):t.createElement(s.GridItem,{col:p.size||6,key:p.name||b},t.createElement(f.GenericInput,{...p,...r,error:x,onChange:o,value:g}))}))))};an.propTypes={form:n().arrayOf(n().object).isRequired,formErrors:n().object.isRequired,genericInputProps:n().object.isRequired,modifiedData:n().object.isRequired,onChange:n().func.isRequired};const rn=an,xt=({description:e,disabled:a,error:r,intlLabel:i,labelAction:o,name:l,onChange:c,placeholder:m,value:p})=>{const{formatMessage:y}=(0,v.useIntl)(),b=r?y({id:r,defaultMessage:r}):"",g=e?y({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",R=y(i),x=m?y({id:m.id,defaultMessage:m.defaultMessage},{...m.values}):"",P=Array.isArray(p)?p.join(`
`):"",k=X=>{const Z=X.target.value.split(`
`);c({target:{name:l,value:Z}})};return t.createElement(s.Textarea,{disabled:a,error:b,label:R,labelAction:o,id:l,hint:g,name:l,onChange:k,placeholder:x,value:P},P)};xt.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},xt.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),disabled:n().bool,error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,labelAction:n().element,name:n().string.isRequired,onChange:n().func.isRequired,placeholder:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),value:n().oneOfType([n().array,n().string])};const ba=xt,ha=(e,a)=>{const r=M()(e,["contentType","schema","kind"],"");return r==="singleType"||r===a.kind?!0:M()(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:c,targetAttribute:m})=>{const p=(0,pt.Z)(l,m);return c==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},Ta=(e="",a,r)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],o=e==="contentType",l=r.includes(a),c=!o&&!l;return o?[[...i,"uid"],["component","dynamiczone"]]:c?[i,["component"]]:[i]},on=e=>e.reduce((a,r)=>{const i=r.items.reduce((o,l)=>(l.name&&o.push(l.name),o),[]);return[...a,...i]},[]);var C=d(53209),je=d(97392);const va={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},sn=/^[A-Za-z][-_0-9A-Za-z]*$/,Ca=e=>{const a={name:C.Z_().matches(sn,f.translatedErrors.regex).test({name:"nameNotAllowed",message:f.translatedErrors.unique,test(r){return r?!e.includes((0,h.toLower)(r)):!1}}).required(f.translatedErrors.required)};return C.Ry(a)},Ea=(e,a,r)=>{const i={displayName:C.Z_().test({name:"nameAlreadyUsed",message:f.translatedErrors.unique,test(o){if(!o)return!1;const l=(0,je.N)(o,r);return!e.includes(l)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(o){return o?!a.includes((0,h.toLower)((0,h.trim)(o))):!1}}).required(f.translatedErrors.required),category:C.Z_().matches(sn,f.translatedErrors.regex).required(f.translatedErrors.required),icon:C.Z_()};return C.Ry(i)},At={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,u.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,u.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},we={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,u.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},q={default:{name:"default",type:"text",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,u.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,u.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,u.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,u.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,u.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Ma={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private]}]}},component({repeatable:e},a){return a==="1"?{sections:we.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private,q.max,q.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...q.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.unique,q.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.max,q.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...q.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.unique,q.maxLength,q.minLength,q.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((a,r)=>e.enum.indexOf(a)===r&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,u.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,u.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.private]}]}},number(e){const a=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.unique,q.max,q.min,q.private]}]}},password(){return{sections:[{sectionTitle:null,items:[q.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.maxLength,q.minLength,q.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[q.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.maxLength,q.minLength,q.private]}]}},text(){return{sections:[{sectionTitle:null,items:[q.default,q.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.unique,q.maxLength,q.minLength,q.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...q.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[q.required,q.maxLength,q.minLength,q.private]}]}}},Ne={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},ln={advanced:Ma,base:{component(e,a){if(a==="1"){const r=e.createComponent===!0?we.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[At]},...r]}}return{sections:[{sectionTitle:null,items:[Ne,{name:"component",type:"select-component",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,u.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,u.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ne,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ne]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,u.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ne]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,u.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,u.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,u.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ne,{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ne]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ne]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,a,r){const i=r.filter(({type:o})=>["string","text"].includes(o)).map(({name:o})=>({key:o,value:o,metadatas:{intlLabel:{id:`${o}.no-override`,defaultMessage:o}}}));return{sections:[{sectionTitle:null,items:[{...Ne,placeholder:{id:(0,u.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}},{intlLabel:{id:(0,u.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}},Ra={sections:[{sectionTitle:null,items:[Ne]}]};var xa=d(44908),Aa=d.n(xa),Fa=d(46831),Sa=d.n(Fa);const Ft=e=>Sa()(e,{decamelize:!1,lowercase:!1,separator:"_"}),un=/^[A-Za-z][_0-9A-Za-z]*$/,dn=e=>({name:"attributeNameAlreadyUsed",message:f.translatedErrors.unique,test(a){return a?!e.includes(a):!1}}),ao=(e,a,r)=>{const i=get(e,["schema","attributes"],{});return Object.keys(i).filter(o=>a?o!==r:!0)},St=e=>({name:"forbiddenAttributeName",message:(0,u.Z)("error.attributeName.reserved-name"),test(a){return a?!e.includes(a):!1}}),T={default:()=>C.Z_().nullable(),max:()=>C.Rx().integer().nullable(),min:()=>C.Rx().integer().when("max",(e,a)=>e?a.max(e,(0,u.Z)("error.validation.minSupMax")):a).nullable(),maxLength:()=>C.Rx().integer().positive((0,u.Z)("error.validation.positive")).nullable(),minLength:()=>C.Rx().integer().min(0).when("maxLength",(e,a)=>e?a.max(e,(0,u.Z)("error.validation.minSupMax")):a).nullable(),name(e,a){return C.Z_().test(dn(e)).test(St(a)).matches(un,f.translatedErrors.regex).required(f.translatedErrors.required)},required:()=>C.O7(),type:()=>C.Z_().required(f.translatedErrors.required),unique:()=>C.O7().nullable()},Zt=(e,a)=>({name:T.name(e,a),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength(),regex:C.Z_().test({name:"isValidRegExpPattern",message:(0,u.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),Nt={name:"isMinSuperiorThanMax",message:(0,u.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:a}=this.parent;return!a||Number.isNaN((0,h.toNumber)(e))?!0:(0,h.toNumber)(a)>=(0,h.toNumber)(e)}},qt={date(e,a){const r={name:T.name(e,a),type:T.type()};return C.Ry(r)},datetime(e,a){const r={name:T.name(e,a),type:T.type()};return C.Ry(r)},time(e,a){const r={name:T.name(e,a),type:T.type()};return C.Ry(r)},default(e,a){const r={name:T.name(e,a),type:T.type()};return C.Ry(r)},biginteger(e,a){const r={name:T.name(e,a),type:T.type(),default:C.Z_().nullable().matches(/^-?\d*$/),unique:T.unique(),required:T.required(),max:C.Z_().nullable().matches(/^-?\d*$/,f.translatedErrors.regex),min:C.Z_().nullable().test(Nt).matches(/^-?\d*$/,f.translatedErrors.regex)};return C.Ry(r)},boolean(e,a){const r={name:T.name(e,a),default:C.O7().nullable(),required:T.required(),unique:T.unique()};return C.Ry(r)},component(e,a){const r={name:T.name(e,a),type:T.type(),required:T.required(),max:T.max(),min:T.min(),component:C.Z_().required(f.translatedErrors.required)};return C.Ry(r)},decimal(e,a){const r={name:T.name(e,a),type:T.type(),default:C.Rx(),required:T.required(),max:C.Rx(),min:C.Rx().test(Nt)};return C.Ry(r)},dynamiczone(e,a){const r={name:T.name(e,a),type:T.type(),required:T.required(),max:T.max(),min:T.min()};return C.Ry(r)},email(e,a){const r={name:T.name(e,a),type:T.type(),default:C.Z_().email().nullable(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength()};return C.Ry(r)},enumeration(e,a){const r=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:C.Z_().test(dn(e)).test(St(a)).matches(r,f.translatedErrors.regex).required(f.translatedErrors.required),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),enum:C.IX().of(C.Z_()).min(1,f.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,u.Z)("error.validation.enum-duplicate"),test(o){return!Aa()(o.map(Ft).filter((c,m,p)=>p.indexOf(c)!==m)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,u.Z)("error.validation.enum-empty-string"),test:o=>!o.map(Ft).some(l=>l==="")}).test({name:"doesMatchRegex",message:(0,u.Z)("error.validation.enum-regex"),test:o=>o.map(Ft).every(l=>r.test(l))}),enumName:C.Z_().nullable()};return C.Ry(i)},float(e,a){const r={name:T.name(e,a),type:T.type(),required:T.required(),default:C.Rx(),max:C.Rx(),min:C.Rx().test(Nt)};return C.Ry(r)},integer(e,a){const r={name:T.name(e,a),type:T.type(),default:C.Rx().integer(),unique:T.unique(),required:T.required(),max:T.max(),min:T.min()};return C.Ry(r)},json(e,a){const r={name:T.name(e,a),type:T.type(),required:T.required(),unique:T.unique()};return C.Ry(r)},media(e,a){const r={name:T.name(e,a),type:T.type(),multiple:C.O7(),required:T.required(),allowedTypes:C.IX().of(C.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return C.Ry(r)},password(e,a){const r={name:T.name(e,a),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength()};return C.Ry(r)},relation(e,a,r,{initialData:i,modifiedData:o}){const l={name:T.name(e,a),target:C.Z_().required(f.translatedErrors.required),relation:C.Z_().required(),type:C.Z_().required(),targetAttribute:C.Vo(()=>{const c=(0,pt.Z)(o.relation,o.targetAttribute);if(c==="oneWay"||c==="manyWay")return C.Z_().nullable();let m=C.Z_().test(St(a)),y=[...r.map(({name:b})=>b),o.name].filter(b=>b!==i.targetAttribute);return m.matches(un,f.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,u.Z)("error.validation.relation.targetAttribute-taken"),test(b){return b?!y.includes(b):!1}}).required(f.translatedErrors.required)})};return C.Ry(l)},richtext(e,a){const r={name:T.name(e,a),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength()};return C.Ry(r)},string(e,a){const r=Zt(e,a);return C.Ry(r)},text(e,a){const r=Zt(e,a);return C.Ry(r)},uid(e,a){const r=Zt(e,a);return C.Ry(r)}},cn={name:"displayName",type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},Lt={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,u.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,u.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[cn,{description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[cn,{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,u.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,u.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,u.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},Za=({usedContentTypeNames:e=[],reservedModels:a=[],singularNames:r=[],pluralNames:i=[]})=>{const o={displayName:C.Z_().test({name:"nameAlreadyUsed",message:f.translatedErrors.unique,test(l){if(!l)return!1;const c=(0,je.E)(l);return!e.includes(c)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes((0,h.toLower)((0,h.trim)(l))):!1}}).required(f.translatedErrors.required),pluralName:C.Z_().test({name:"pluralNameAlreadyUsed",message:f.translatedErrors.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.pluralName-used"),test(l,c){return l?c.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes((0,h.toLower)((0,h.trim)(l))):!1}}).required(f.translatedErrors.required),singularName:C.Z_().test({name:"singularNameAlreadyUsed",message:f.translatedErrors.unique,test(l){return l?!r.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.singularName-used"),test(l,c){return l?c.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes((0,h.toLower)((0,h.trim)(l))):!1}}).required(f.translatedErrors.required),draftAndPublish:C.O7(),kind:C.Z_().oneOf(["singleType","collectionType"])};return C.Ry(o)},Ot={advanced:{default(){return{sections:we.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[At]},...we.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[At]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},mn=(e,a)=>{e.forEach(r=>{if(!("sectionTitle"in r)){a[0].items.push(r);return}a.push(r)})},pn=(e,a)=>e.filter(({name:r})=>r!==a.initialData.name).map(({name:r})=>r),Ie={customField:{schema({schemaAttributes:e,attributeType:a,customFieldValidator:r,reservedNames:i,schemaData:o,ctbFormsAPI:l}){const c=pn(e,o),m=qt[a](c,i.attributes);return l.makeCustomFieldValidator(m,r,c,i.attributes,o)},form:{base({customField:e}){const a=[{sectionTitle:null,items:[Ne]}];return e.options?.base&&mn(e.options.base,a),{sections:a}},advanced({customField:e,data:a,step:r,extensions:i,...o}){const l=[{sectionTitle:null,items:[]}],c=i.getAdvancedForm(["attribute",e.type],{data:a,type:e.type,step:r,...o});if(e.options?.advanced&&mn(e.options.advanced,l),c){const m={sectionTitle:{id:(0,u.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:c};l.push(m)}return{sections:l}}}},attribute:{schema(e,a,r,i,o,l){const c=M()(e,["schema","attributes"],[]),m=pn(c,o);try{let p=qt[a](m,r.attributes,i,o);return l.makeValidator(["attribute",a],p,m,r.attributes,i,o)}catch(p){return console.error("Error yup build schema",p),qt.default(m,r.attributes)}},form:{advanced({data:e,type:a,step:r,extensions:i,...o}){try{const l=ln.advanced[a](e,r).sections,c=i.getAdvancedForm(["attribute",a],{data:e,type:a,step:r,...o});return{sections:l.reduce((p,y)=>(y.sectionTitle===null?p.push(y):p.push({...y,items:[...y.items,...c]}),p),[])}}catch(l){return console.error(l),{sections:[]}}},base({data:e,type:a,step:r,attributes:i}){try{return ln.base[a](e,r,i)}catch{return Ra}}}},contentType:{schema(e,a,r,i,o,l){const c=Object.values(l).map(R=>R.schema.singularName),m=Object.values(l).map(R=>M()(R,["schema","pluralName"],"")),p=a?e.filter(R=>R!==r):e,y=a?c.filter(R=>M()(l,[r,"schema","singularName"],"")!==R):c,b=a?m.filter(R=>M()(l,[r,"schema","pluralName"],"")!==R):m,g=Za({usedContentTypeNames:p,reservedModels:i.models,singularNames:y,pluralNames:b});return o.makeValidator(["contentType"],g,p,i.models,y,b)},form:{base({actionType:e}){return e==="create"?Lt.base.create():Lt.base.edit()},advanced({extensions:e}){const a=Lt.advanced.default().sections.map(i=>i.items).flat(),r=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...r]}]}}}},component:{schema(e,a,r,i=!1,o=null){const l=i?e.filter(c=>c!==o):e;return Ea(l,r.models,a)},form:{advanced(){return{sections:we.advanced()}},base(){return{sections:we.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Ot.advanced.default()},base({data:e}){return M()(e,"createComponent",!1)?Ot.base.createComponent():Ot.base.default()}}},editCategory:{schema(e,a){const r=e.filter(i=>i!==a.name).map(i=>ve()(i));return Ca(r)},form:{advanced:()=>({sections:[]}),base(){return va.base}}}};var gn=d(20573),Na=d(88372);const qa=()=>e=>e[`${B.Z}_formModal`]||Na.E,La=()=>(0,gn.P1)(qa(),e=>e),Oa=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:r,onNavigateToCreateComponentStep2:i,actionType:o,attributeName:l,attributeType:c,customFieldUid:m,categoryName:p,dynamicZoneTarget:y,forTarget:b,modalType:g,isOpen:R,kind:x,step:P,targetUid:k}=(0,Y.Z)(),X=(0,f.useCustomFields)().get(m),Z=(0,t.useRef)(),A=(0,t.useMemo)(La,[]),L=(0,S.useDispatch)(),ne=(0,f.useNotification)(),ae=(0,S.useSelector)(H=>A(H),S.shallowEqual),{push:pe}=(0,F.useHistory)(),{trackUsage:j}=(0,f.useTracking)(),{formatMessage:le}=(0,v.useIntl)(),{getPlugin:Ee}=(0,f.useStrapiApp)(),he=Ee(B.Z).apis.forms,We=he.components.inputs,{addAttribute:oe,addCustomFieldAttribute:ze,addCreatedComponentToDynamicZone:ce,allComponentsCategories:ee,changeDynamicZoneComponents:N,contentTypes:Ve,components:Xe,createSchema:Ge,deleteCategory:Pt,deleteData:tt,editCategory:It,editCustomFieldAttribute:kt,submitData:Bt,modifiedData:ge,nestedComponents:Ut,setModifiedData:$t,sortedContentTypesList:jt,updateSchema:wt,reservedNames:Le}=(0,me.Z)(),{componentToCreate:Je,formErrors:Oe,initialData:Te,isCreatingComponentWhileAddingAField:ke,modifiedData:w}=ae,O=b==="contentType"||b==="component"?[b]:[b,k];(0,t.useEffect)(()=>{if(R){const H=jt.filter(_e);g==="editCategory"&&$t(),o==="edit"&&g==="attribute"&&b==="contentType"&&j("willEditFieldOfContentType");const xe=[...O,"schema","attributes"],Se=Ct(M()(ge,xe,[]),y)||null;if(g==="editCategory"&&o==="edit"&&L({type:ie._H,modalType:g,actionType:o,data:{name:p}}),g==="contentType"&&o==="create"&&L({type:ie._H,modalType:g,actionType:o,data:{draftAndPublish:!0},pluginOptions:{}}),g==="contentType"&&o==="edit"){const{displayName:J,draftAndPublish:ue,kind:Ze,pluginOptions:fe,pluralName:Or,singularName:Dr}=M()(ge,[...O,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});L({type:ie._H,actionType:o,modalType:g,data:{displayName:J,draftAndPublish:ue,kind:Ze,pluginOptions:fe,pluralName:Or,singularName:Dr}})}if(g==="component"&&o==="edit"){const J=M()(ge,O,{});L({type:ie._H,actionType:o,modalType:g,data:{displayName:J.schema.displayName,category:J.category}})}if(g==="addComponentToDynamicZone"&&o==="edit"){const J={...Se,components:[],name:y,createComponent:!1,componentToCreate:{type:"component"}};L({type:ie.VZ,attributeToEdit:J})}if(c){const ue={...Ct(M()(ge,xe,[]),l),name:l};c==="component"&&o==="edit"&&(ue.repeatable||ye()(ue,"repeatable",!1)),L(g==="customField"?{type:ie.OY,customField:X,isEditing:o==="edit",modifiedDataToSetForEditing:ue,forTarget:b}:{type:ie.S0,attributeType:c,nameToSetForRelation:M()(H,["0","title"],"error"),targetUid:M()(H,["0","uid"],"error"),isEditing:o==="edit",modifiedDataToSetForEditing:ue,step:P,forTarget:b})}}else L({type:ie.c2})},[o,l,c,p,y,b,R,g]);const I=g==="contentType",G=g==="component",se=g==="attribute",Me=g==="customField",Re=c==="component"&&se,Ae=o==="create",qe=M()(w,"createComponent",!1)||ke,He=P==="1",Fn=g==="editCategory",Sn=g==="chooseAttribute",Wt=(0,je.E)(w.displayName||""),zt=M()(ge,[...O,"schema","attributes"],null),Tr=async()=>{let H;const xe=qe&&P==="1"?M()(w,"componentToCreate",{}):w;if(I)H=Ie.contentType.schema(Object.keys(Ve),o==="edit",M()(ge,[...O,"uid"],null),Le,he,Ve);else if(G)H=Ie.component.schema(Object.keys(Xe),w.category||"",Le,o==="edit",M()(ge,[...O,"uid"],null),he);else if(Me)H=Ie.customField.schema({schemaAttributes:M()(ge,[...O,"schema","attributes"],[]),attributeType:X.type,reservedNames:Le,schemaData:{modifiedData:w,initialData:Te},ctbFormsAPI:he,customFieldValidator:X.options?.validator});else if(Re&&qe&&He)H=Ie.component.schema(Object.keys(Xe),M()(w,"componentToCreate.category",""),Le,he);else if(se&&!He){const Se=c==="relation"?"relation":w.type;let J=[];if(Se==="relation"){const ue=M()(w,["target"],null);J=M()(Ve,[ue,"schema","attributes"],[]).filter(({name:fe})=>o!=="edit"?!0:fe!==Te.targetAttribute)}H=Ie.attribute.schema(M()(ge,O,{}),Se,Le,J,{modifiedData:w,initialData:Te},he)}else if(Fn)H=Ie.editCategory.schema(ee,Te,he);else if(He&&qe)H=Ie.component.schema(Object.keys(Xe),M()(w,"componentToCreate.category",""),Le,he);else return;await H.validate(xe,{abortEarly:!1})},Zn=(0,t.useCallback)(({target:{name:H,value:xe,type:Se,...J}})=>{const ue=["enumName","max","min","maxLength","minLength","regex","default"];let Ze;ue.includes(H)&&xe===""?Ze=null:Ze=xe;const fe=Object.assign({},Oe);H==="max"&&delete fe.min,H==="maxLength"&&delete fe.minLength,delete fe[H],L({type:ie.Ey,errors:fe}),L({type:ie.P0,keys:H.split("."),value:Ze,...J})},[L,Oe]),Fe=async(H,xe=Ae)=>{H.preventDefault();try{await Tr(),Er(xe);const Se=b==="components"?k:Wt;if(I)if(Ae)Ge({...w,kind:x},g,Wt),pe({pathname:`/plugins/${B.Z}/content-types/${Wt}`}),a({forTarget:b,targetUid:Se});else{ha(ge,w)?(e(),Bt(w)):ne({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(g==="component")if(Ae){const J=(0,je.N)(w.displayName,w.category),{category:ue,...Ze}=w;Ge(Ze,"component",J,ue),pe({pathname:`/plugins/${B.Z}/component-categories/${ue}/${J}`}),a({forTarget:b,targetUid:J})}else{wt(w,g,k),e();return}else if(Fn){if(ve()(Te.name)===ve()(w.name)){e();return}It(Te.name,w);return}else if(Me){const J={attributeToSet:{...w,customField:m},forTarget:b,targetUid:k,initialAttribute:Te};o==="edit"?kt(J):ze(J),xe?a({forTarget:b,targetUid:Se}):e();return}else if(se&&!qe){if(c==="dynamiczone"){oe(w,b,k,o==="edit",Te),Ae?(L({type:ie.I}),Z.current._handlers.setSelectedTabIndex(0),r({dynamicZoneTarget:w.name})):e();return}if(!Re){oe(w,b,k,o==="edit",Te),xe?a({forTarget:b,targetUid:Se}):e();return}if(He){i(),L({type:ie.yC,forTarget:b});return}oe(w,b,k,o==="edit",Te,!0),xe?a({forTarget:b,targetUid:k}):e()}else if(se&&qe){if(He){j("willCreateComponentFromAttributesModal"),L({type:ie.oF,forTarget:b}),i();return}const{category:J,type:ue,...Ze}=Je,fe=(0,je.N)(Je.displayName,J);Ge(Ze,ue,fe,J,qe),oe(w,b,k,!1),L({type:ie.c2}),xe?a({forTarget:"components",targetUid:fe}):e();return}else{if(He)if(qe){const{category:J,type:ue,...Ze}=w.componentToCreate,fe=(0,je.N)(w.componentToCreate.displayName,J);Ge(Ze,ue,fe,J,qe),ce(y,[fe]),a({forTarget:"components",targetUid:fe})}else N(y,w.components),e();else console.error("This case is not handled");return}L({type:ie.c2})}catch(Se){const J=(0,f.getYupInnerErrors)(Se);console.log({err:Se,errors:J}),L({type:ie.Ey,errors:J})}},vr=()=>{window.confirm(le({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),L({type:ie.c2}))},Nn=()=>{(0,h.isEqual)(w,Te)?(e(),L({type:ie.c2})):vr()},Cr=H=>{if(H==="advanced"){if(I){j("didSelectContentTypeSettings");return}b==="contentType"&&j("didSelectContentTypeFieldSettings")}},Er=H=>{g==="attribute"&&b==="contentType"&&c!=="dynamiczone"&&H&&j("willAddMoreFieldToContentType")},Mr=()=>!!(g==="editCategory"||g==="component"||te()(w,"createComponent")),Rr=Ta(b,k,Ut);if(!R||!g)return null;const qn=M()(Ie,[g,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),xr=b==="components"||b==="component",Ln={customInputs:{"allowed-types-select":Ue,"boolean-radio-group":Qn,"checkbox-with-number-field":_n,"content-type-radio-group":ea,"radio-group":ct,relation:ua,"select-category":ca,"select-component":ma,"select-components":pa,"select-default-boolean":Xn,"select-number":fa,"select-date":ga,"toggle-draft-publish":Vn,"text-plural":da,"text-singular":ya,"textarea-enum":ba,...We},componentToCreate:Je,dynamicZoneTarget:y,formErrors:Oe,isAddingAComponentToAnotherComponent:xr,isCreatingComponentWhileAddingAField:ke,mainBoxHeader:M()(ge,[...O,"schema","displayName"],""),modifiedData:w,naturePickerType:b,isCreating:Ae,targetUid:k,forTarget:b},On=qn.advanced({data:w,type:c,step:P,actionType:o,attributes:zt,extensions:he,forTarget:b,contentTypeSchema:ge.contentType||{},customField:X}).sections,Dn=qn.base({data:w,type:c,step:P,actionType:o,attributes:zt,extensions:he,forTarget:b,contentTypeSchema:ge.contentType||{},customField:X}).sections,Ar=on(Dn),Fr=on(On),Sr=Object.keys(Oe).some(H=>Ar.includes(H)),Zr=Object.keys(Oe).some(H=>Fr.includes(H)),Nr=M()(Ve,[k,"schema","kind"]),qr=()=>o==="edit"&&zt.every(({name:H})=>H!==w?.name),Lr=()=>{qr()&&j("didEditFieldNameOnContentType")};return t.createElement(s.ModalLayout,{onClose:Nn,labelledBy:"title"},t.createElement(Gn,{actionType:o,attributeName:l,categoryName:p,contentTypeKind:x,dynamicZoneTarget:y,modalType:g,forTarget:b,targetUid:k,attributeType:c,customFieldUid:m}),Sn&&t.createElement(zn,{attributes:Rr,forTarget:b,kind:Nr||"collectionType"}),!Sn&&t.createElement("form",{onSubmit:Fe},t.createElement(s.ModalBody,null,t.createElement(s.TabGroup,{label:"todo",id:"tabs",variant:"simple",ref:Z,onTabChange:H=>{H===1&&Cr("advanced")}},t.createElement(s.Flex,{justifyContent:"space-between"},t.createElement(Yn,{actionType:o,forTarget:b,kind:x,step:P,modalType:g,attributeType:c,attributeName:l,customField:X}),t.createElement(s.Tabs,null,t.createElement(s.Tab,{hasError:Sr},le({id:(0,u.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),t.createElement(s.Tab,{hasError:Zr,disabled:Mr()},le({id:(0,u.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),t.createElement(s.Divider,null),t.createElement(s.Box,{paddingTop:6},t.createElement(s.TabPanels,null,t.createElement(s.TabPanel,null,t.createElement(s.Flex,{direction:"column",alignItems:"stretch",gap:6},t.createElement(rn,{form:Dn,formErrors:Oe,genericInputProps:Ln,modifiedData:w,onChange:Zn}))),t.createElement(s.TabPanel,null,t.createElement(s.Flex,{direction:"column",alignItems:"stretch",gap:6},t.createElement(rn,{form:On,formErrors:Oe,genericInputProps:Ln,modifiedData:w,onChange:Zn}))))))),t.createElement(s.ModalFooter,{endActions:t.createElement(Hn,{deleteCategory:Pt,deleteContentType:tt,deleteComponent:tt,categoryName:Te.name,isAttributeModal:g==="attribute",isCustomFieldModal:g==="customField",isComponentToDzModal:g==="addComponentToDynamicZone",isComponentAttribute:c==="component",isComponentModal:g==="component",isContentTypeModal:g==="contentType",isCreatingComponent:o==="create",isCreatingDz:o==="create",isCreatingComponentAttribute:w.createComponent||!1,isCreatingComponentInDz:w.createComponent||!1,isCreatingComponentWhileAddingAField:ke,isCreatingContentType:o==="create",isEditingAttribute:o==="edit",isDzAttribute:c==="dynamiczone",isEditingCategory:g==="editCategory",isInFirstComponentStep:P==="1",onSubmitAddComponentAttribute:Fe,onSubmitAddComponentToDz:Fe,onSubmitCreateComponent:Fe,onSubmitCreateContentType:Fe,onSubmitCreateDz:Fe,onSubmitEditAttribute:Fe,onSubmitEditCategory:Fe,onSubmitEditComponent:Fe,onSubmitEditContentType:Fe,onSubmitEditCustomFieldAttribute:Fe,onSubmitEditDz:Fe,onClickFinish:Lr}),startActions:t.createElement(s.Button,{variant:"tertiary",onClick:Nn},le({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},fn=e=>e.reduce((a,r)=>(a[r.uid]=r,a),{}),Da=(e,a,r,i)=>{const o=a.reduce((m,p)=>{const y=M()(r,p,{});return m[p]=y,m},{});return{[i?"contentType":"component"]:e,components:o}},Pa=(e,a)=>{const r=Object.keys(e).map(i=>(0,h.get)(e,[i,...a],""));return(0,K.Z)(r)};var Ia=d(19525);const ka=e=>{const a=Object.keys(e).reduce((r,i)=>{const o=(0,h.get)(e,[i,"schema","attributes"],[]),l=Ba(o);return[...r,...l]},[]);return(0,K.Z)(a)},Ba=e=>e.reduce((a,r)=>{const{type:i,component:o}=r;return i==="component"&&a.push(o),a},[]),yn=ka,Ua=e=>{const a=Object.keys(e).reduce((r,i)=>{const o=M()(e,[i],{}),l=o.uid;return $a(o)&&r.push(l),r},[]);return(0,K.Z)(a)},$a=e=>M()(e,["schema","attributes"],[]).some(r=>{const{type:i}=r;return i==="component"}),ja=(e,a)=>{const r=Object.keys(e).filter(i=>{const o=(0,h.get)(e,i,{}),l=(0,h.get)(a,i,{}),c=(0,h.get)(o,["isTemporary"],!1),m=!(0,h.isEqual)(o,l);return c||m});return(0,K.Z)(r)},wa=(e,a)=>{const r=hn((0,h.get)(e,"schema.attributes",[]),a),i=(0,h.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},(0,h.omit)(e.schema,"attributes"),{attributes:r})},bn=(e,a=!1)=>{const r=(0,h.get)(e,"uid",null),i=hn((0,h.get)(e,"schema.attributes",[]),r),o=a?{category:(0,h.get)(e,"category","")}:{},l=Object.assign(o,(0,h.omit)(e.schema,"attributes"),{attributes:i});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},hn=(e,a)=>e.reduce((r,{name:i,...o})=>{const l=o,c=l.target===a,m=l.type==="relation",p=(0,h.get)(l,"targetAttribute",null);if(!c)if(m){const y=Object.assign({},l,{targetAttribute:Tn(p)});r[i]=et(y)}else r[i]=et(l);if(c){const y=l.target,b=Object.assign({},l,{target:y,targetAttribute:Tn(p)});r[i]=et(b)}if(l.customField){const y={...l,type:"customField"};r[i]=et(y)}return r},{}),Tn=e=>e==="-"?null:e,et=e=>Object.keys(e).reduce((a,r)=>(e[r]!==null&&r!=="plugin"&&(a[r]=e[r]),a),{}),Wa=(e,a,r,i=!1)=>ja(e,a).map(c=>{const m=(0,h.get)(e,c,{});return wa(m,r,i)}),za=e=>(0,h.sortBy)(Object.keys(e).map(a=>({visible:e[a].schema.visible,name:a,title:e[a].schema.displayName,plugin:e[a].plugin||null,uid:a,to:`/plugins/${B.Z}/content-types/${a}`,kind:e[a].schema.kind,restrictRelationsTo:e[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>(0,h.camelCase)(a.title)),vn="did-not-kill-server",Va="server is down";function Ke(e,a){return new Promise(r=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(Va);if(!a)throw new Error(vn);r(e)}).catch(i=>{setTimeout(()=>Ke(e,i.message!==vn).then(r),100)})})}const Ga=e=>Object.values(e.attributes).filter(({type:r})=>r==="dynamiczone").every(({components:r})=>Array.isArray(r)&&r.length>0);var de=d(92407),Ha=d(87431);const Ka=()=>e=>e[`${B.Z}_dataManagerProvider`]||Ha.E,Ya=()=>(0,gn.P1)(Ka(),e=>e),Xa=e=>Object.keys(e).reduce((a,r)=>{const i=e[r].schema;return a[r]={...e[r],schema:{...i,attributes:Ja(i.attributes)}},a},{}),Ja=e=>Object.keys(e).reduce((a,r)=>(a.push({...e[r],name:r}),a),[]),Cn=Xa,Dt=({children:e,components:a,contentTypes:r,isLoading:i,isLoadingForDataToBeSet:o,initialData:l,modifiedData:c,reservedNames:m})=>{const p=(0,S.useDispatch)(),y=(0,f.useNotification)(),{lockAppWithAutoreload:b,unlockAppWithAutoreload:g}=(0,f.useAutoReloadOverlayBlocker)(),{setCurrentStep:R}=(0,f.useGuidedTour)(),{getPlugin:x}=(0,f.useStrapiApp)(),{apis:P}=x(B.Z),{autoReload:k}=(0,f.useAppInfos)(),{formatMessage:X}=(0,v.useIntl)(),{trackUsage:Z}=(0,f.useTracking)(),{refetchPermissions:A}=(0,f.useRBACProvider)(),{pathname:L}=(0,F.useLocation)(),{onCloseModal:ne}=(0,Y.Z)(),ae=(0,F.useRouteMatch)(`/plugins/${B.Z}/content-types/:uid`),pe=(0,F.useRouteMatch)(`/plugins/${B.Z}/component-categories/:categoryUid/:componentUid`),j=(0,f.useFetchClient)(),{put:le,post:Ee,del:Ye}=j,he=(0,t.useRef)();he.current=X;const We=k,oe=ae!==null,ze=oe?"contentType":"component",ce=oe?(0,h.get)(ae,"params.uid",null):(0,h.get)(pe,"params.componentUid",null),ee=(0,t.useRef)(),N=oe?"content-types":"components";ee.current=async()=>{try{const[{data:{data:O}},{data:{data:I}},{data:G}]=await Promise.all(["components","content-types","reserved-names"].map(qe=>j.get(`/${B.Z}/${qe}`))),se=fn(O),Me=Cn(se),Re=fn(I),Ae=Cn(Re);p({type:de.Id,components:Me,contentTypes:Ae,reservedNames:G})}catch(O){console.error({err:O}),y({type:"warning",message:{id:"notification.error"}})}},(0,t.useEffect)(()=>(ee.current(),()=>{p({type:de.Zl})}),[]),(0,t.useEffect)(()=>{!i&&ce&&Le()},[i,L,ce]),(0,t.useEffect)(()=>{k||y({type:"info",message:{id:(0,u.Z)("notification.info.autoreaload-disable")}})},[k,y]);const Ve=(O,I,G,se=!1,Me,Re=!1)=>{const Ae=se?de.JO:de.gz;p({type:Ae,attributeToSet:O,forTarget:I,targetUid:G,initialAttribute:Me,shouldAddComponentToData:Re})},Xe=({attributeToSet:O,forTarget:I,targetUid:G,initialAttribute:se})=>{p({type:de.Ir,attributeToSet:O,forTarget:I,targetUid:G,initialAttribute:se})},Ge=({attributeToSet:O,forTarget:I,targetUid:G,initialAttribute:se})=>{p({type:de.Ly,attributeToSet:O,forTarget:I,targetUid:G,initialAttribute:se})},Pt=(O,I)=>{p({type:de.Uu,dynamicZoneTarget:O,componentsToAdd:I})},tt=(O,I,G,se,Me=!1)=>{const Re=I==="contentType"?de.Sh:de.VR;p({type:Re,data:O,componentCategory:se,schemaType:I,uid:G,shouldAddComponentToData:Me})},It=(O,I)=>{p({type:de.o_,dynamicZoneTarget:O,newComponents:I})},kt=(O,I,G="")=>{const se=O==="components"?de.lw:de.ai;O==="contentType"&&Z("willDeleteFieldOfContentType"),p({type:se,mainDataKey:O,attributeToRemoveName:I,componentUid:G})},Bt=async O=>{try{const I=`/${B.Z}/component-categories/${O}`,G=window.confirm(X({id:(0,u.Z)("popUpWarning.bodyMessage.category.delete")}));ne(),G&&(b(),await Ye(I),await Ke(!0),await g(),await ke())}catch(I){console.error({err:I}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},ge=async()=>{try{const O=`/${B.Z}/${N}/${ce}`,I=(0,h.get)(c,[ze,"isTemporary"],!1),G=window.confirm(X({id:(0,u.Z)(`popUpWarning.bodyMessage.${oe?"contentType":"component"}.delete`)}));if(ne(),G){if(I){p({type:de.Ap});return}b(),await Ye(O),await Ke(!0),await g(),await ke()}}catch(O){console.error({err:O}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},Ut=async(O,I)=>{try{const G=`/${B.Z}/component-categories/${O}`;ne(),b(),await le(G,I),await Ke(!0),await g(),await ke()}catch(G){console.error({err:G}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},$t=()=>{const O=Object.assign({},a,c.components);if(!oe){const G=(0,h.get)(c,"component",{});(0,h.set)(O,(0,h.get)(G,["uid"],""),G)}const I=Ua(O);return(0,K.Z)(I)},jt=()=>{const O=yn(a),I=yn(c.components||{});return(0,K.Z)([...I,...O])},wt=(O,I)=>{p({type:de.NG,dzName:O,componentToRemoveIndex:I})},Le=()=>{const O=oe?r:a,I=(0,h.get)(O,ce,{schema:{attributes:[]}}),G=(0,Ia.Z)(I.schema.attributes,a),se=Da(I,G,a,oe),Me=(0,h.get)(I,"isTemporary",!1)&&(0,h.size)((0,h.get)(I,"schema.attributes",[]))===0;p({type:de.xx,schemaToSet:se,hasJustCreatedSchema:Me})},Je=(0,t.useMemo)(()=>{const O=oe?r:a;return ce==="create-content-type"?!1:!Object.keys(O).includes(ce)&&!i},[a,r,ce,oe,i]),Oe=(0,t.useMemo)(()=>{const O=Object.keys(r).filter(I=>(0,h.get)(r,[I,"schema","visible"],!0)).sort();return(0,h.get)(O,"0","create-content-type")},[r]);if(Je)return t.createElement(F.Redirect,{to:`/plugins/${B.Z}/content-types/${Oe}`});const Te=async O=>{try{const I=(0,h.get)(c,[ze,"isTemporary"],!1),G={components:Wa(c.components,a,ce,I)};if(oe){const Re=P.forms.mutateContentTypeSchema({...bn(c.contentType),...O},l.contentType);if(!Ga(Re)){y({type:"warning",message:{id:(0,u.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}G.contentType=Re,Z("willSaveContentType")}else G.component=bn(c.component,!0),Z("willSaveComponent");b();const se=`/${B.Z}/${N}`,Me=I?se:`${se}/${ce}`;if(I?await Ee(Me,G):await le(Me,G),await Ke(!0),await g(),I&&(l.contentType?.schema.kind==="collectionType"||l.contentType?.schema.kind==="singleType")&&R("contentTypeBuilder.success"),oe){Z("didSaveContentType");const Re=(0,h.get)(G,["contentType","schema","name"],""),Ae=(0,h.get)(l,["contentType","schema","name"],"");!I&&Re!==Ae&&Z("didEditNameOfContentType")}else Z("didSaveComponent");await ke()}catch(I){oe||Z("didNotSaveComponent"),console.error({err:I.response}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},ke=async()=>{await A()},w=(O,I,G)=>{p({type:de.bi,data:O,schemaType:I,uid:G})};return t.createElement($.Z.Provider,{value:{addAttribute:Ve,addCustomFieldAttribute:Xe,addCreatedComponentToDynamicZone:Pt,allComponentsCategories:Pa(a,["category"]),changeDynamicZoneComponents:It,components:a,componentsGroupedByCategory:(0,h.groupBy)(a,"category"),componentsThatHaveOtherComponentInTheirAttributes:$t(),contentTypes:r,createSchema:tt,deleteCategory:Bt,deleteData:ge,editCategory:Ut,editCustomFieldAttribute:Ge,isInDevelopmentMode:We,initialData:l,isInContentTypeView:oe,modifiedData:c,nestedComponents:jt(),removeAttribute:kt,removeComponentFromDynamicZone:wt,reservedNames:m,setModifiedData:Le,sortedContentTypesList:za(r),submitData:Te,updateSchema:w}},o?t.createElement(f.LoadingIndicatorPage,null):t.createElement(t.Fragment,null,e,We&&t.createElement(Oa,null)))};Dt.defaultProps={components:{}},Dt.propTypes={children:n().node.isRequired,components:n().object,contentTypes:n().object.isRequired,isLoading:n().bool.isRequired,isLoadingForDataToBeSet:n().bool.isRequired,initialData:n().object.isRequired,modifiedData:n().object.isRequired,reservedNames:n().object.isRequired};const Qa=Ya(),_a=(0,S.connect)(Qa,null),er=(0,U.compose)(_a)((0,t.memo)(Dt));var tr=d(98422);const En={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Mn=({children:e})=>{const[a,r]=(0,t.useState)(En),{trackUsage:i}=(0,f.useTracking)(),o=({attributeType:Z,customFieldUid:A})=>{r(L=>({...L,actionType:"create",modalType:"customField",attributeType:Z,customFieldUid:A}))},l=({attributeType:Z,step:A})=>{a.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:Z}),r(L=>({...L,actionType:"create",modalType:"attribute",step:A,attributeType:Z}))},c=({dynamicZoneTarget:Z,targetUid:A})=>{r(L=>({...L,dynamicZoneTarget:Z,targetUid:A,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},m=({forTarget:Z,targetUid:A})=>{r(L=>({...L,actionType:"create",forTarget:Z,targetUid:A,modalType:"chooseAttribute",isOpen:!0}))},p=Z=>{r(A=>({...A,...Z,isOpen:!0}))},y=Z=>{r(A=>({...A,categoryName:Z,actionType:"edit",modalType:"editCategory",isOpen:!0}))},b=({forTarget:Z,targetUid:A,attributeName:L,attributeType:ne,customFieldUid:ae})=>{r(pe=>({...pe,modalType:"customField",customFieldUid:ae,actionType:"edit",forTarget:Z,targetUid:A,attributeName:L,attributeType:ne,isOpen:!0}))},g=({forTarget:Z,targetUid:A,attributeName:L,attributeType:ne,step:ae})=>{r(pe=>({...pe,modalType:"attribute",actionType:"edit",forTarget:Z,targetUid:A,attributeName:L,attributeType:ne,step:ae,isOpen:!0}))},R=({modalType:Z,forTarget:A,targetUid:L,kind:ne})=>{r(ae=>({...ae,modalType:Z,actionType:"edit",forTarget:A,targetUid:L,kind:ne,isOpen:!0}))},x=()=>{r(En)},P=({forTarget:Z,targetUid:A})=>{r(L=>({...L,forTarget:Z,targetUid:A,modalType:"chooseAttribute"}))},k=()=>{r(Z=>({...Z,attributeType:"component",modalType:"attribute",step:"2"}))},X=({dynamicZoneTarget:Z})=>{r(A=>({...A,dynamicZoneTarget:Z,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return t.createElement(tr.Z.Provider,{value:{...a,onClickSelectField:l,onClickSelectCustomField:o,onCloseModal:x,onNavigateToChooseAttributeModal:P,onNavigateToAddCompoToDZModal:X,onOpenModalAddComponentsToDZ:c,onNavigateToCreateComponentStep2:k,onOpenModalAddField:m,onOpenModalCreateSchema:p,onOpenModalEditCategory:y,onOpenModalEditField:g,onOpenModalEditCustomField:b,onOpenModalEditSchema:R,setFormModalNavigationState:r}},e)};Mn.propTypes={children:n().node.isRequired};const nr=Mn,ar=(0,t.lazy)(()=>d.e(5905).then(d.bind(d,57134))),rr=()=>{const{url:e}=(0,F.useRouteMatch)(),{categoryUid:a}=(0,F.useParams)();return t.createElement(t.Suspense,{fallback:t.createElement(f.LoadingIndicatorPage,null)},t.createElement(F.Switch,null,t.createElement(F.Route,{path:`${e}/:componentUid`},t.createElement(ar,{categoryId:a}))))};var or=d(53192),sr=d(42876),ir=d(34446),lr=d(29489),ur=d(28086),Rn=d(52305),dr=d(41609),cr=d.n(dr),mr=d(89734),xn=d.n(mr),pr=d(18446),gr=d.n(pr),fr=d(63852);const yr=()=>{const{components:e,componentsGroupedByCategory:a,contentTypes:r,isInDevelopmentMode:i,sortedContentTypesList:o,modifiedData:l,initialData:c}=(0,me.Z)(),m=(0,f.useNotification)(),{trackUsage:p}=(0,f.useTracking)(),[y,b]=(0,t.useState)(""),{onOpenModalCreateSchema:g,onOpenModalEditCategory:R}=(0,Y.Z)(),x=xn()(Object.keys(a).map(j=>({name:j,title:j,isEditable:i,onClickEdit(le,Ee){le.stopPropagation(),P?R(Ee.name):A()},links:xn()(a[j].map(le=>({name:le.uid,to:`/plugins/${B.Z}/component-categories/${j}/${le.uid}`,title:le.schema.displayName})),le=>le.title)})),j=>j.title),P=!Object.keys(r).some(j=>r[j].isTemporary===!0)&&!Object.keys(e).some(j=>e[j].isTemporary===!0)&&gr()(l,c),k=()=>{P?(p("willCreateContentType"),g({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):A()},X=()=>{P?(p("willCreateSingleType"),g({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):A()},Z=()=>{P?(p("willCreateComponent"),g({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):A()},A=()=>{m({type:"info",message:{id:`${(0,u.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},L=o.filter(j=>j.visible),ne=[{name:"models",title:{id:`${(0,u.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,u.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:k},links:L.filter(j=>j.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,u.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,u.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:X},links:L.filter(j=>j.kind==="singleType")},{name:"components",title:{id:`${(0,u.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,u.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:Z},links:x}],ae=j=>y?(0,fr.ZP)(j,ve()(y),{keys:[le=>ve()(le.title)]}):j;return{menu:(()=>ne.map(j=>j.links.some(Ee=>!cr()(Ee.links))?{...j,links:j.links.map(Ee=>({...Ee,links:ae(Ee.links)}))}:{...j,links:ae(j.links)}))(),searchValue:y,onSearchChange:b}},br=()=>{const{menu:e,searchValue:a,onSearchChange:r}=yr(),{formatMessage:i}=(0,v.useIntl)();return t.createElement(or.m,{ariaLabel:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},t.createElement(sr.p,{searchable:!0,value:a,onClear:()=>r(""),onChange:o=>r(o.target.value),label:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),t.createElement(ir.Z,null,e.map(o=>t.createElement(t.Fragment,{key:o.name},t.createElement(lr.D,{label:i({id:o.title.id,defaultMessage:o.title.defaultMessage}),collapsable:!0,badgeLabel:o.links.length.toString()},o.links.map(l=>l.links?t.createElement(ur.z,{key:l.name,label:Ce()(l.title)},l.links.map(c=>t.createElement(Rn.E,{as:F.NavLink,to:c.to,active:c.active,key:c.name,isSubSectionChild:!0},Ce()(i({id:c.name,defaultMessage:c.title}))))):t.createElement(Rn.E,{as:F.NavLink,to:l.to,active:l.active,key:l.name},Ce()(i({id:l.name,defaultMessage:l.title}))))),o.customLink&&t.createElement(s.Box,{paddingLeft:7},t.createElement(s.TextButton,{onClick:o.customLink.onClick,startIcon:t.createElement(s.Icon,{as:be.Plus,width:(0,f.pxToRem)(8),height:(0,f.pxToRem)(8)}),marginTop:2},i({id:o.customLink.id,defaultMessage:o.customLink.defaultMessage})))))))},An=(0,t.lazy)(()=>d.e(5905).then(d.bind(d,57134))),hr=()=>{const{formatMessage:e}=(0,v.useIntl)(),a=e({id:`${B.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:r}=(0,f.useGuidedTour)(),i=(0,t.useRef)(r);return(0,t.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),t.createElement(f.CheckPagePermissions,{permissions:E.Z.main},t.createElement(D.Helmet,{title:a}),t.createElement(nr,null,t.createElement(er,null,t.createElement(s.Layout,{sideNav:t.createElement(br,null)},t.createElement(t.Suspense,{fallback:t.createElement(f.LoadingIndicatorPage,null)},t.createElement(F.Switch,null,t.createElement(F.Route,{path:`/plugins/${B.Z}/content-types/create-content-type`,component:An}),t.createElement(F.Route,{path:`/plugins/${B.Z}/content-types/:uid`,component:An}),t.createElement(F.Route,{path:`/plugins/${B.Z}/component-categories/:categoryUid`,component:rr})))))))}},5002:(W,V,d)=>{"use strict";d.d(V,{Z:()=>D});var t=d(96124);const D=v=>`${t.Z}.${v}`},48983:(W,V,d)=>{var t=d(40371),F=t("length");W.exports=F},89881:(W,V,d)=>{var t=d(47816),F=d(99291),D=F(t);W.exports=D},23933:(W,V,d)=>{var t=d(44239),F=d(37005),D="[object RegExp]";function v(f){return F(f)&&t(f)==D}W.exports=v},69199:(W,V,d)=>{var t=d(89881),F=d(98612);function D(v,f){var s=-1,E=F(v)?Array(v.length):[];return t(v,function(B,Q,n){E[++s]=f(B,Q,n)}),E}W.exports=D},82689:(W,V,d)=>{var t=d(29932),F=d(97786),D=d(67206),v=d(69199),f=d(71131),s=d(7518),E=d(85022),B=d(6557),Q=d(1469);function n(h,S,U){S.length?S=t(S,function(u){return Q(u)?function(K){return F(K,u.length===1?u[0]:u)}:u}):S=[B];var $=-1;S=t(S,s(D));var Y=v(h,function(u,K,z){var M=t(S,function(_){return _(u)});return{criteria:M,index:++$,value:u}});return f(Y,function(u,K){return E(u,K,U)})}W.exports=n},71131:W=>{function V(d,t){var F=d.length;for(d.sort(t);F--;)d[F]=d[F].value;return d}W.exports=V},26393:(W,V,d)=>{var t=d(33448);function F(D,v){if(D!==v){var f=D!==void 0,s=D===null,E=D===D,B=t(D),Q=v!==void 0,n=v===null,h=v===v,S=t(v);if(!n&&!S&&!B&&D>v||B&&Q&&h&&!n&&!S||s&&Q&&h||!f&&h||!E)return 1;if(!s&&!B&&!S&&D<v||S&&f&&E&&!s&&!B||n&&f&&E||!Q&&E||!h)return-1}return 0}W.exports=F},85022:(W,V,d)=>{var t=d(26393);function F(D,v,f){for(var s=-1,E=D.criteria,B=v.criteria,Q=E.length,n=f.length;++s<Q;){var h=t(E[s],B[s]);if(h){if(s>=n)return h;var S=f[s];return h*(S=="desc"?-1:1)}}return D.index-v.index}W.exports=F},99291:(W,V,d)=>{var t=d(98612);function F(D,v){return function(f,s){if(f==null)return f;if(!t(f))return D(f,s);for(var E=f.length,B=v?E:-1,Q=Object(f);(v?B--:++B<E)&&s(Q[B],B,Q)!==!1;);return f}}W.exports=F},88016:(W,V,d)=>{var t=d(48983),F=d(62689),D=d(21903);function v(f){return F(f)?D(f):t(f)}W.exports=v},21903:W=>{var V="\\ud800-\\udfff",d="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",F="\\u20d0-\\u20ff",D=d+t+F,v="\\ufe0e\\ufe0f",f="["+V+"]",s="["+D+"]",E="\\ud83c[\\udffb-\\udfff]",B="(?:"+s+"|"+E+")",Q="[^"+V+"]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",S="\\u200d",U=B+"?",$="["+v+"]?",Y="(?:"+S+"(?:"+[Q,n,h].join("|")+")"+$+U+")*",u=$+U+Y,K="(?:"+[Q+s+"?",s,n,h,f].join("|")+")",z=RegExp(E+"(?="+E+")|"+K+u,"g");function M(_){for(var te=z.lastIndex=0;z.test(_);)++te;return te}W.exports=M},96347:(W,V,d)=>{var t=d(23933),F=d(7518),D=d(31167),v=D&&D.isRegExp,f=v?F(v):t;W.exports=f},89734:(W,V,d)=>{var t=d(21078),F=d(82689),D=d(5976),v=d(16612),f=D(function(s,E){if(s==null)return[];var B=E.length;return B>1&&v(s,E[0],E[1])?E=[]:B>2&&v(E[0],E[1],E[2])&&(E=[E[0]]),F(s,t(E,1),[])});W.exports=f},7334:(W,V,d)=>{var t=d(79833);function F(D){return t(D).toLowerCase()}W.exports=F},39138:(W,V,d)=>{var t=d(80531),F=d(40180),D=d(62689),v=d(13218),f=d(96347),s=d(88016),E=d(83140),B=d(40554),Q=d(79833),n=30,h="...",S=/\w*$/;function U($,Y){var u=n,K=h;if(v(Y)){var z="separator"in Y?Y.separator:z;u="length"in Y?B(Y.length):u,K="omission"in Y?t(Y.omission):K}$=Q($);var M=$.length;if(D($)){var _=E($);M=_.length}if(u>=M)return $;var te=u-s(K);if(te<1)return K;var re=_?F(_,0,te).join(""):$.slice(0,te);if(z===void 0)return re+K;if(_&&(te+=re.length-te),f(z)){if($.slice(te).search(z)){var ye,De=re;for(z.global||(z=RegExp(z.source,Q(S.exec(z))+"g")),z.lastIndex=0;ye=z.exec(De);)var ve=ye.index;re=re.slice(0,ve===void 0?te:ve)}}else if($.indexOf(t(z),te)!=te){var me=re.lastIndexOf(z);me>-1&&(re=re.slice(0,me))}return re+K}W.exports=U},44908:(W,V,d)=>{var t=d(45652);function F(D){return D&&D.length?t(D):[]}W.exports=F},20573:(W,V,d)=>{"use strict";d.d(V,{P1:()=>Q});var t="NOT_FOUND";function F(h){var S;return{get:function($){return S&&h(S.key,$)?S.value:t},put:function($,Y){S={key:$,value:Y}},getEntries:function(){return S?[S]:[]},clear:function(){S=void 0}}}function D(h,S){var U=[];function $(z){var M=U.findIndex(function(te){return S(z,te.key)});if(M>-1){var _=U[M];return M>0&&(U.splice(M,1),U.unshift(_)),_.value}return t}function Y(z,M){$(z)===t&&(U.unshift({key:z,value:M}),U.length>h&&U.pop())}function u(){return U}function K(){U=[]}return{get:$,put:Y,getEntries:u,clear:K}}var v=function(S,U){return S===U};function f(h){return function(U,$){if(U===null||$===null||U.length!==$.length)return!1;for(var Y=U.length,u=0;u<Y;u++)if(!h(U[u],$[u]))return!1;return!0}}function s(h,S){var U=typeof S=="object"?S:{equalityCheck:S},$=U.equalityCheck,Y=$===void 0?v:$,u=U.maxSize,K=u===void 0?1:u,z=U.resultEqualityCheck,M=f(Y),_=K===1?F(M):D(K,M);function te(){var re=_.get(arguments);if(re===t){if(re=h.apply(null,arguments),z){var ye=_.getEntries(),De=ye.find(function(ve){return z(ve.value,re)});De&&(re=De.value)}_.put(arguments,re)}return re}return te.clearCache=function(){return _.clear()},te}function E(h){var S=Array.isArray(h[0])?h[0]:h;if(!S.every(function($){return typeof $=="function"})){var U=S.map(function($){return typeof $=="function"?"function "+($.name||"unnamed")+"()":typeof $}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+U+"]")}return S}function B(h){for(var S=arguments.length,U=new Array(S>1?S-1:0),$=1;$<S;$++)U[$-1]=arguments[$];var Y=function(){for(var K=arguments.length,z=new Array(K),M=0;M<K;M++)z[M]=arguments[M];var _=0,te,re={memoizeOptions:void 0},ye=z.pop();if(typeof ye=="object"&&(re=ye,ye=z.pop()),typeof ye!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof ye+"]");var De=re,ve=De.memoizeOptions,me=ve===void 0?U:ve,nt=Array.isArray(me)?me:[me],Ce=E(z),Qe=h.apply(void 0,[function(){return _++,ye.apply(null,arguments)}].concat(nt)),Be=h(function(){for(var at=[],_e=Ce.length,Pe=0;Pe<_e;Pe++)at.push(Ce[Pe].apply(null,arguments));return te=Qe.apply(null,at),te});return Object.assign(Be,{resultFunc:ye,memoizedResultFunc:Qe,dependencies:Ce,lastResult:function(){return te},recomputations:function(){return _},resetRecomputations:function(){return _=0}}),Be};return Y}var Q=B(s),n=function(S,U){if(U===void 0&&(U=Q),typeof S!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof S));var $=Object.keys(S),Y=U($.map(function(u){return S[u]}),function(){for(var u=arguments.length,K=new Array(u),z=0;z<u;z++)K[z]=arguments[z];return K.reduce(function(M,_,te){return M[$[te]]=_,M},{})});return Y}}}]);
